{"ast":null,"code":"var _jsxFileName = \"/home/alinedebastiani/sd-08-project-recipes-app/src/components/FavButton.jsx\";\nimport React, { useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { addFavorite, removeFavorite } from '../actions/recipes';\nimport FavIcon from \"../images/whiteHeartIcon.svg\";\nimport BlackFavIcon from \"../images/blackHeartIcon.svg\";\n\nfunction FavButton({\n  type,\n  recipe,\n  index\n}) {\n  const favorite = useSelector(state => state.recipes.favorite);\n  const dispatch = useDispatch(); // const formatedType = type === 'Meal' ? 'comida' : 'bebida';\n\n  const handleClick = () => {\n    const fav = favorite.find(currRec => recipe.id === currRec.id && type.startsWith(currRec.type)); // const { [`id${type}`]: id, strArea: area = '', strCategory: category = '',\n    //   strAlcoholic: alcoholicOrNot = '', [`str${type}`]: name,\n    //   [`str${type}Thumb`]: image } = recipe;\n\n    const {\n      id,\n      area,\n      category,\n      alcoholicOrNot,\n      name,\n      image\n    } = recipe;\n    const favType = type.slice(0, 0 - 1);\n    const favObj = {\n      id,\n      area,\n      category,\n      alcoholicOrNot,\n      name,\n      image,\n      type: favType\n    }; // const formatedRecipe = {\n    //   id, area, category, alcoholicOrNot, name, image, type: formatedType };\n\n    if (fav) {\n      dispatch(removeFavorite(favObj));\n    } else dispatch(addFavorite(favObj));\n  };\n\n  useEffect(() => {\n    localStorage.setItem('favoriteRecipes', JSON.stringify(favorite));\n  }, [favorite]);\n  return /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    onClick: handleClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    \"data-testid\": index !== undefined ? `${index}-horizontal-favorite-btn` : 'favorite-btn',\n    src: favorite.some(rec => recipe.id === rec.id && type.startsWith(rec.type)) ? BlackFavIcon : FavIcon,\n    alt: \"favorite\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }\n  }));\n}\n\nFavButton.propTypes = {\n  recipe: PropTypes.shape().isRequired,\n  type: PropTypes.string.isRequired,\n  index: PropTypes.number.isRequired\n};\nexport default FavButton;","map":{"version":3,"sources":["/home/alinedebastiani/sd-08-project-recipes-app/src/components/FavButton.jsx"],"names":["React","useEffect","PropTypes","useDispatch","useSelector","addFavorite","removeFavorite","FavButton","type","recipe","index","favorite","state","recipes","dispatch","handleClick","fav","find","currRec","id","startsWith","area","category","alcoholicOrNot","name","image","favType","slice","favObj","localStorage","setItem","JSON","stringify","undefined","some","rec","BlackFavIcon","FavIcon","propTypes","shape","isRequired","string","number"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,SAASC,WAAT,EAAsBC,cAAtB,QAA4C,oBAA5C;;;;AAIA,SAASC,SAAT,CAAmB;AAAEC,EAAAA,IAAF;AAAQC,EAAAA,MAAR;AAAgBC,EAAAA;AAAhB,CAAnB,EAA4C;AAC1C,QAAMC,QAAQ,GAAGP,WAAW,CAAEQ,KAAD,IAAWA,KAAK,CAACC,OAAN,CAAcF,QAA1B,CAA5B;AACA,QAAMG,QAAQ,GAAGX,WAAW,EAA5B,CAF0C,CAG1C;;AAEA,QAAMY,WAAW,GAAG,MAAM;AACxB,UAAMC,GAAG,GAAGL,QAAQ,CACjBM,IADS,CAEPC,OAAD,IAAaT,MAAM,CAACU,EAAP,KAAcD,OAAO,CAACC,EAAtB,IAA4BX,IAAI,CAACY,UAAL,CAAgBF,OAAO,CAACV,IAAxB,CAFjC,CAAZ,CADwB,CAKxB;AACA;AACA;;AACA,UAAM;AAAEW,MAAAA,EAAF;AAAME,MAAAA,IAAN;AAAYC,MAAAA,QAAZ;AAAsBC,MAAAA,cAAtB;AAAsCC,MAAAA,IAAtC;AAA4CC,MAAAA;AAA5C,QAAsDhB,MAA5D;AACA,UAAMiB,OAAO,GAAGlB,IAAI,CAACmB,KAAL,CAAW,CAAX,EAAc,IAAI,CAAlB,CAAhB;AACA,UAAMC,MAAM,GAAG;AAAET,MAAAA,EAAF;AAAME,MAAAA,IAAN;AAAYC,MAAAA,QAAZ;AAAsBC,MAAAA,cAAtB;AAAsCC,MAAAA,IAAtC;AAA4CC,MAAAA,KAA5C;AAAmDjB,MAAAA,IAAI,EAAEkB;AAAzD,KAAf,CAVwB,CAWxB;AACA;;AACA,QAAIV,GAAJ,EAAS;AACPF,MAAAA,QAAQ,CAACR,cAAc,CAACsB,MAAD,CAAf,CAAR;AACD,KAFD,MAEOd,QAAQ,CAACT,WAAW,CAACuB,MAAD,CAAZ,CAAR;AACR,GAhBD;;AAkBA3B,EAAAA,SAAS,CAAC,MAAM;AACd4B,IAAAA,YAAY,CAACC,OAAb,CAAqB,iBAArB,EAAwCC,IAAI,CAACC,SAAL,CAAerB,QAAf,CAAxC;AACD,GAFQ,EAEN,CAACA,QAAD,CAFM,CAAT;AAIA,sBACE;AAAQ,IAAA,IAAI,EAAC,QAAb;AAAsB,IAAA,OAAO,EAAGI,WAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AACE,mBAAcL,KAAK,KAAKuB,SAAV,GACT,GAAEvB,KAAM,0BADC,GAC2B,cAF3C;AAGE,IAAA,GAAG,EAAGC,QAAQ,CACXuB,IADG,CACGC,GAAD,IAAS1B,MAAM,CAACU,EAAP,KAAcgB,GAAG,CAAChB,EAAlB,IAAwBX,IAAI,CAACY,UAAL,CAAgBe,GAAG,CAAC3B,IAApB,CADnC,IAEF4B,YAFE,GAEaC,OALrB;AAME,IAAA,GAAG,EAAC,UANN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF;AAYD;;AAED9B,SAAS,CAAC+B,SAAV,GAAsB;AACpB7B,EAAAA,MAAM,EAAEP,SAAS,CAACqC,KAAV,GAAkBC,UADN;AAEpBhC,EAAAA,IAAI,EAAEN,SAAS,CAACuC,MAAV,CAAiBD,UAFH;AAGpB9B,EAAAA,KAAK,EAAER,SAAS,CAACwC,MAAV,CAAiBF;AAHJ,CAAtB;AAMA,eAAejC,SAAf","sourcesContent":["import React, { useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { addFavorite, removeFavorite } from '../actions/recipes';\nimport FavIcon from '../images/whiteHeartIcon.svg';\nimport BlackFavIcon from '../images/blackHeartIcon.svg';\n\nfunction FavButton({ type, recipe, index }) {\n  const favorite = useSelector((state) => state.recipes.favorite);\n  const dispatch = useDispatch();\n  // const formatedType = type === 'Meal' ? 'comida' : 'bebida';\n\n  const handleClick = () => {\n    const fav = favorite\n      .find(\n        (currRec) => recipe.id === currRec.id && type.startsWith(currRec.type),\n      );\n    // const { [`id${type}`]: id, strArea: area = '', strCategory: category = '',\n    //   strAlcoholic: alcoholicOrNot = '', [`str${type}`]: name,\n    //   [`str${type}Thumb`]: image } = recipe;\n    const { id, area, category, alcoholicOrNot, name, image } = recipe;\n    const favType = type.slice(0, 0 - 1);\n    const favObj = { id, area, category, alcoholicOrNot, name, image, type: favType };\n    // const formatedRecipe = {\n    //   id, area, category, alcoholicOrNot, name, image, type: formatedType };\n    if (fav) {\n      dispatch(removeFavorite(favObj));\n    } else dispatch(addFavorite(favObj));\n  };\n\n  useEffect(() => {\n    localStorage.setItem('favoriteRecipes', JSON.stringify(favorite));\n  }, [favorite]);\n\n  return (\n    <button type=\"button\" onClick={ handleClick }>\n      <img\n        data-testid={ index !== undefined\n          ? `${index}-horizontal-favorite-btn` : 'favorite-btn' }\n        src={ favorite\n          .some((rec) => recipe.id === rec.id && type.startsWith(rec.type))\n          ? BlackFavIcon : FavIcon }\n        alt=\"favorite\"\n      />\n    </button>\n  );\n}\n\nFavButton.propTypes = {\n  recipe: PropTypes.shape().isRequired,\n  type: PropTypes.string.isRequired,\n  index: PropTypes.number.isRequired,\n};\n\nexport default FavButton;\n"]},"metadata":{},"sourceType":"module"}