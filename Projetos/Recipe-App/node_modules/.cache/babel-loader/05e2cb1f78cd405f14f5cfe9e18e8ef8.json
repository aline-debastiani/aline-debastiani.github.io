{"ast":null,"code":"var _jsxFileName = \"/home/alinedebastiani/sd-08-project-recipes-app/src/pages/ExploreOrigin.js\";\nimport React, { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { fetchRecipes, fetchAreas } from '../actions/recipes';\nimport Footer from '../components/Footer';\nimport Header from '../components/Header';\nimport Loading from '../components/Loading';\nimport RecipeCard from '../components/RecipeCard';\n\nfunction ExploreOrigin() {\n  const {\n    list = [],\n    isFetching,\n    areas\n  } = useSelector(state => state.recipes);\n  const {\n    mealsToken\n  } = useSelector(state => state.login);\n  const dispatch = useDispatch();\n  const [selectArea, setSelectArea] = useState('');\n  useEffect(() => {\n    dispatch(fetchAreas(mealsToken));\n    dispatch(fetchRecipes(mealsToken, 'comidas'));\n  }, []);\n\n  const handleChange = ({\n    target\n  }) => {\n    setSelectArea(target.value);\n    const reqType = {\n      request: 'filter',\n      key: 'a',\n      parameter: target.value\n    };\n    dispatch(fetchRecipes(mealsToken, 'comidas', reqType));\n  };\n\n  if (isFetching || list.lenght === 0) return /*#__PURE__*/React.createElement(Loading, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 47\n    }\n  });\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"select\", {\n    \"data-testid\": \"explore-by-area-dropdown\",\n    onChange: handleChange,\n    value: selectArea,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 7\n    }\n  }, areas && [{\n    strArea: 'All'\n  }, ...areas.meals].map(({\n    strArea\n  }) => /*#__PURE__*/React.createElement(\"option\", {\n    \"data-testid\": `${strArea}-option`,\n    key: strArea,\n    value: strArea,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 11\n    }\n  }, strArea))), list && list.map((recipe, index) => /*#__PURE__*/React.createElement(RecipeCard, {\n    type: \"comidas\",\n    index: index,\n    recipe: recipe,\n    key: `recipe-${index}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(Footer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }\n  }));\n}\n\nexport default ExploreOrigin;","map":{"version":3,"sources":["/home/alinedebastiani/sd-08-project-recipes-app/src/pages/ExploreOrigin.js"],"names":["React","useEffect","useState","useDispatch","useSelector","fetchRecipes","fetchAreas","Footer","Header","Loading","RecipeCard","ExploreOrigin","list","isFetching","areas","state","recipes","mealsToken","login","dispatch","selectArea","setSelectArea","handleChange","target","value","reqType","request","key","parameter","lenght","strArea","meals","map","recipe","index"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,SAASC,YAAT,EAAuBC,UAAvB,QAAyC,oBAAzC;AACA,OAAOC,MAAP,MAAmB,sBAAnB;AACA,OAAOC,MAAP,MAAmB,sBAAnB;AACA,OAAOC,OAAP,MAAoB,uBAApB;AACA,OAAOC,UAAP,MAAuB,0BAAvB;;AAEA,SAASC,aAAT,GAAyB;AACvB,QAAM;AAAEC,IAAAA,IAAI,GAAG,EAAT;AAAaC,IAAAA,UAAb;AAAyBC,IAAAA;AAAzB,MAAmCV,WAAW,CAAEW,KAAD,IAAWA,KAAK,CAACC,OAAlB,CAApD;AACA,QAAM;AAAEC,IAAAA;AAAF,MAAiBb,WAAW,CAAEW,KAAD,IAAWA,KAAK,CAACG,KAAlB,CAAlC;AACA,QAAMC,QAAQ,GAAGhB,WAAW,EAA5B;AACA,QAAM,CAACiB,UAAD,EAAaC,aAAb,IAA8BnB,QAAQ,CAAC,EAAD,CAA5C;AAEAD,EAAAA,SAAS,CAAC,MAAM;AACdkB,IAAAA,QAAQ,CAACb,UAAU,CAACW,UAAD,CAAX,CAAR;AACAE,IAAAA,QAAQ,CAACd,YAAY,CAACY,UAAD,EAAa,SAAb,CAAb,CAAR;AACD,GAHQ,EAGN,EAHM,CAAT;;AAKA,QAAMK,YAAY,GAAG,CAAC;AAAEC,IAAAA;AAAF,GAAD,KAAgB;AACnCF,IAAAA,aAAa,CAACE,MAAM,CAACC,KAAR,CAAb;AACA,UAAMC,OAAO,GAAG;AAAEC,MAAAA,OAAO,EAAE,QAAX;AAAqBC,MAAAA,GAAG,EAAE,GAA1B;AAA+BC,MAAAA,SAAS,EAAEL,MAAM,CAACC;AAAjD,KAAhB;AACAL,IAAAA,QAAQ,CAACd,YAAY,CAACY,UAAD,EAAa,SAAb,EAAwBQ,OAAxB,CAAb,CAAR;AACD,GAJD;;AAKA,MAAIZ,UAAU,IAAID,IAAI,CAACiB,MAAL,KAAgB,CAAlC,EAAqC,oBAAO,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAP;AACrC,sBACE,uDACE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAEE;AACE,mBAAY,0BADd;AAEE,IAAA,QAAQ,EAAGP,YAFb;AAGE,IAAA,KAAK,EAAGF,UAHV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAKIN,KAAK,IAAI,CAAC;AAAEgB,IAAAA,OAAO,EAAE;AAAX,GAAD,EAAqB,GAAGhB,KAAK,CAACiB,KAA9B,EAAqCC,GAArC,CAAyC,CAAC;AAAEF,IAAAA;AAAF,GAAD,kBAClD;AACE,mBAAe,GAAEA,OAAQ,SAD3B;AAEE,IAAA,GAAG,EAAGA,OAFR;AAGE,IAAA,KAAK,EAAGA,OAHV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAKIA,OALJ,CADS,CALb,CAFF,EAiBIlB,IAAI,IAAIA,IAAI,CAACoB,GAAL,CAAS,CAACC,MAAD,EAASC,KAAT,kBACjB,oBAAC,UAAD;AACE,IAAA,IAAI,EAAC,SADP;AAEE,IAAA,KAAK,EAAGA,KAFV;AAGE,IAAA,MAAM,EAAGD,MAHX;AAIE,IAAA,GAAG,EAAI,UAASC,KAAM,EAJxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADQ,CAjBZ,eAwBE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAxBF,CADF;AA4BD;;AAED,eAAevB,aAAf","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { fetchRecipes, fetchAreas } from '../actions/recipes';\nimport Footer from '../components/Footer';\nimport Header from '../components/Header';\nimport Loading from '../components/Loading';\nimport RecipeCard from '../components/RecipeCard';\n\nfunction ExploreOrigin() {\n  const { list = [], isFetching, areas } = useSelector((state) => state.recipes);\n  const { mealsToken } = useSelector((state) => state.login);\n  const dispatch = useDispatch();\n  const [selectArea, setSelectArea] = useState('');\n\n  useEffect(() => {\n    dispatch(fetchAreas(mealsToken));\n    dispatch(fetchRecipes(mealsToken, 'comidas'));\n  }, []);\n\n  const handleChange = ({ target }) => {\n    setSelectArea(target.value);\n    const reqType = { request: 'filter', key: 'a', parameter: target.value };\n    dispatch(fetchRecipes(mealsToken, 'comidas', reqType));\n  };\n  if (isFetching || list.lenght === 0) return <Loading />;\n  return (\n    <>\n      <Header />\n      <select\n        data-testid=\"explore-by-area-dropdown\"\n        onChange={ handleChange }\n        value={ selectArea }\n      >\n        { areas && [{ strArea: 'All' }, ...areas.meals].map(({ strArea }) => (\n          <option\n            data-testid={ `${strArea}-option` }\n            key={ strArea }\n            value={ strArea }\n          >\n            { strArea }\n          </option>\n        )) }\n      </select>\n      { list && list.map((recipe, index) => (\n        <RecipeCard\n          type=\"comidas\"\n          index={ index }\n          recipe={ recipe }\n          key={ `recipe-${index}` }\n        />))}\n      <Footer />\n    </>\n  );\n}\n\nexport default ExploreOrigin;\n"]},"metadata":{},"sourceType":"module"}