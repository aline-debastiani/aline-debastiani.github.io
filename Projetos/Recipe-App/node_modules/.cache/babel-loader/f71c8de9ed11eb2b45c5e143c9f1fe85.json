{"ast":null,"code":"import { ADD_CATEGORIES, ADD_FILTER, ADD_RECIPES, ADD_RECOMMENDATIONS, REQUEST_RECIPES } from './index';\n\nconst addRecipes = payload => ({\n  type: ADD_RECIPES,\n  payload\n});\n\nconst requestRecipes = () => ({\n  type: REQUEST_RECIPES\n});\n\nconst addFilter = payload => ({\n  type: ADD_FILTER,\n  payload\n});\n\nexport const fetchRecipes = (token, type = 'meals', {\n  request = 'search',\n  key = 's',\n  parameter = ''\n} = {}) => async dispatch => {\n  const filter = request === 'filter' ? parameter : '';\n  dispatch(addFilter(filter));\n  dispatch(requestRecipes());\n  const domains = {\n    meals: 'themealdb',\n    drinks: 'thecocktaildb'\n  };\n  const url = `https://www.${domains[type]}.com/api/json/v1/${token}/${request}.php?${key}=${parameter}`;\n  const data = await fetch(url);\n  const {\n    [type]: recipes\n  } = await data.json();\n  dispatch(addRecipes(recipes));\n};\n\nconst addCategories = payload => ({\n  type: ADD_CATEGORIES,\n  payload\n});\n\nexport const fetchCategories = (token, type = 'meals') => async dispatch => {\n  const urlOpt = {\n    meals: `https://www.themealdb.com/api/json/v1/${token}/list.php?c=list`,\n    drinks: `https://www.thecocktaildb.com/api/json/v1/${token}/list.php?c=list`\n  };\n  const data = await fetch(urlOpt[type]);\n  const {\n    [type]: categories\n  } = await data.json();\n  const CATEGORIES_NUMBER = 5;\n  const categoriesArray = categories.slice(0, CATEGORIES_NUMBER).map(({\n    strCategory\n  }) => strCategory);\n  dispatch(addCategories(categoriesArray));\n};\n\nconst addRecommendations = payload => ({\n  type: ADD_RECOMMENDATIONS,\n  payload\n});\n\nexport const fetchRecommendations = (token, type = 'meals') => async dispatch => {\n  const domains = {\n    meals: 'themealdb',\n    drinks: 'thecocktaildb'\n  };\n  const url = `https://www.${domains[type]}.com/api/json/v1/${token}/search.php?s=`;\n  const data = await fetch(url);\n  const {\n    [type]: recipes\n  } = await data.json();\n  dispatch(addRecommendations(recipes));\n};","map":{"version":3,"sources":["/home/alinedebastiani/sd-08-project-recipes-app/src/actions/recipes.js"],"names":["ADD_CATEGORIES","ADD_FILTER","ADD_RECIPES","ADD_RECOMMENDATIONS","REQUEST_RECIPES","addRecipes","payload","type","requestRecipes","addFilter","fetchRecipes","token","request","key","parameter","dispatch","filter","domains","meals","drinks","url","data","fetch","recipes","json","addCategories","fetchCategories","urlOpt","categories","CATEGORIES_NUMBER","categoriesArray","slice","map","strCategory","addRecommendations","fetchRecommendations"],"mappings":"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","sourcesContent":["import { ADD_CATEGORIES, ADD_FILTER, ADD_RECIPES,\n  ADD_RECOMMENDATIONS, REQUEST_RECIPES } from './index';\n\nconst addRecipes = (payload) => ({\n  type: ADD_RECIPES,\n  payload,\n});\n\nconst requestRecipes = () => ({\n  type: REQUEST_RECIPES,\n});\n\nconst addFilter = (payload) => ({\n  type: ADD_FILTER,\n  payload,\n});\n\nexport const fetchRecipes = (token, type = 'meals',\n  { request = 'search', key = 's', parameter = '' } = {}) => (\n  async (dispatch) => {\n    const filter = request === 'filter' ? parameter : '';\n    dispatch(addFilter(filter));\n    dispatch(requestRecipes());\n    const domains = { meals: 'themealdb', drinks: 'thecocktaildb' };\n    const url = `https://www.${domains[type]}.com/api/json/v1/${token}/${request}.php?${key}=${parameter}`;\n    const data = await fetch(url);\n    const { [type]: recipes } = await data.json();\n    dispatch(addRecipes(recipes));\n  }\n);\n\nconst addCategories = (payload) => ({\n  type: ADD_CATEGORIES,\n  payload,\n});\n\nexport const fetchCategories = (token, type = 'meals') => (\n  async (dispatch) => {\n    const urlOpt = { meals: `https://www.themealdb.com/api/json/v1/${token}/list.php?c=list`,\n      drinks: `https://www.thecocktaildb.com/api/json/v1/${token}/list.php?c=list` };\n    const data = await fetch(urlOpt[type]);\n    const { [type]: categories } = await data.json();\n    const CATEGORIES_NUMBER = 5;\n    const categoriesArray = categories.slice(0, CATEGORIES_NUMBER)\n      .map(({ strCategory }) => strCategory);\n    dispatch(addCategories(categoriesArray));\n  }\n);\n\nconst addRecommendations = (payload) => ({\n  type: ADD_RECOMMENDATIONS,\n  payload,\n});\n\nexport const fetchRecommendations = (token, type = 'meals') => (\n  async (dispatch) => {\n    const domains = { meals: 'themealdb', drinks: 'thecocktaildb' };\n    const url = `https://www.${domains[type]}.com/api/json/v1/${token}/search.php?s=`;\n    const data = await fetch(url);\n    const { [type]: recipes } = await data.json();\n    dispatch(addRecommendations(recipes));\n  }\n);\n"]},"metadata":{},"sourceType":"module"}