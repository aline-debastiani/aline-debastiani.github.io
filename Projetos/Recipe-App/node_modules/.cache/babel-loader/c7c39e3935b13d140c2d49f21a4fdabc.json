{"ast":null,"code":"import React from'react';import{useDispatch,useSelector}from'react-redux';import{Button}from'react-bootstrap';import{useLocation}from'react-router';import{fetchRecipes}from'../actions/recipes';function CategoryButton(_ref){var name=_ref.name,type=_ref.type;var selectedFilter=useSelector(function(state){return state.recipes.filter;});var dispatch=useDispatch();var _useLocation=useLocation(),pathname=_useLocation.pathname;var _useSelector=useSelector(function(state){return state.login;}),mealsToken=_useSelector.mealsToken,cocktailsToken=_useSelector.cocktailsToken;var click=function click(category){var reqType={request:'filter',key:'c',parameter:category};var token=pathname==='comidas'?mealsToken:cocktailsToken;if(selectedFilter===category||category==='All'){dispatch(fetchRecipes(token,type));}else dispatch(fetchRecipes(token,type,reqType));};return/*#__PURE__*/React.createElement(Button,{className:\"custom-btn\",\"data-testid\":\"\".concat(name,\"-category-filter\"),onClick:function onClick(){return click(name);},size:\"sm\",type:\"button\",variant:\"primary\"},name);}export default CategoryButton;","map":{"version":3,"sources":["/home/alinedebastiani/sd-08-project-recipes-app/src/components/CategoryButton.jsx"],"names":["React","useDispatch","useSelector","Button","useLocation","fetchRecipes","CategoryButton","name","type","selectedFilter","state","recipes","filter","dispatch","pathname","login","mealsToken","cocktailsToken","click","category","reqType","request","key","parameter","token"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CAEA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,OAASC,MAAT,KAAuB,iBAAvB,CACA,OAASC,WAAT,KAA4B,cAA5B,CACA,OAASC,YAAT,KAA6B,oBAA7B,CAEA,QAASC,CAAAA,cAAT,MAAwC,IAAdC,CAAAA,IAAc,MAAdA,IAAc,CAARC,IAAQ,MAARA,IAAQ,CACtC,GAAMC,CAAAA,cAAc,CAAGP,WAAW,CAAC,SAACQ,KAAD,QAAWA,CAAAA,KAAK,CAACC,OAAN,CAAcC,MAAzB,EAAD,CAAlC,CACA,GAAMC,CAAAA,QAAQ,CAAGZ,WAAW,EAA5B,CAFsC,iBAGjBG,WAAW,EAHM,CAG9BU,QAH8B,cAG9BA,QAH8B,kBAKCZ,WAAW,CAAC,SAACQ,KAAD,QAAWA,CAAAA,KAAK,CAACK,KAAjB,EAAD,CALZ,CAK9BC,UAL8B,cAK9BA,UAL8B,CAKlBC,cALkB,cAKlBA,cALkB,CAOtC,GAAMC,CAAAA,KAAK,CAAG,QAARA,CAAAA,KAAQ,CAACC,QAAD,CAAc,CAC1B,GAAMC,CAAAA,OAAO,CAAG,CAAEC,OAAO,CAAE,QAAX,CAAqBC,GAAG,CAAE,GAA1B,CAA+BC,SAAS,CAAEJ,QAA1C,CAAhB,CACA,GAAMK,CAAAA,KAAK,CAAGV,QAAQ,GAAK,SAAb,CAAyBE,UAAzB,CAAsCC,cAApD,CACA,GAAIR,cAAc,GAAKU,QAAnB,EAA+BA,QAAQ,GAAK,KAAhD,CAAuD,CACrDN,QAAQ,CAACR,YAAY,CAACmB,KAAD,CAAQhB,IAAR,CAAb,CAAR,CACD,CAFD,IAEOK,CAAAA,QAAQ,CAACR,YAAY,CAACmB,KAAD,CAAQhB,IAAR,CAAcY,OAAd,CAAb,CAAR,CACR,CAND,CAQA,mBACE,oBAAC,MAAD,EACE,SAAS,CAAC,YADZ,CAEE,wBAAiBb,IAAjB,oBAFF,CAGE,OAAO,CAAG,yBAAMW,CAAAA,KAAK,CAACX,IAAD,CAAX,EAHZ,CAIE,IAAI,CAAC,IAJP,CAKE,IAAI,CAAC,QALP,CAME,OAAO,CAAC,SANV,EAQGA,IARH,CADF,CAYD,CAOD,cAAeD,CAAAA,cAAf","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Button } from 'react-bootstrap';\nimport { useLocation } from 'react-router';\nimport { fetchRecipes } from '../actions/recipes';\n\nfunction CategoryButton({ name, type }) {\n  const selectedFilter = useSelector((state) => state.recipes.filter);\n  const dispatch = useDispatch();\n  const { pathname } = useLocation();\n\n  const { mealsToken, cocktailsToken } = useSelector((state) => state.login);\n\n  const click = (category) => {\n    const reqType = { request: 'filter', key: 'c', parameter: category };\n    const token = pathname === 'comidas' ? mealsToken : cocktailsToken;\n    if (selectedFilter === category || category === 'All') {\n      dispatch(fetchRecipes(token, type));\n    } else dispatch(fetchRecipes(token, type, reqType));\n  };\n\n  return (\n    <Button\n      className=\"custom-btn\"\n      data-testid={ `${name}-category-filter` }\n      onClick={ () => click(name) }\n      size=\"sm\"\n      type=\"button\"\n      variant=\"primary\"\n    >\n      {name}\n    </Button>\n  );\n}\n\nCategoryButton.propTypes = {\n  name: PropTypes.string.isRequired,\n  type: PropTypes.string.isRequired,\n};\n\nexport default CategoryButton;\n"]},"metadata":{},"sourceType":"module"}