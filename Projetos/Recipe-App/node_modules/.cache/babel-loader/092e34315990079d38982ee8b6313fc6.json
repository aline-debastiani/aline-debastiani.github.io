{"ast":null,"code":"var _jsxFileName = \"/home/alinedebastiani/sd-08-project-recipes-app/src/pages/ExploreMain.js\";\nimport React, { useEffect, useRef, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { Link, Redirect } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport Footer from '../components/Footer';\nimport Header from '../components/Header';\nimport { fetchRecipes } from '../actions/recipes';\n\nfunction ExploreMain({\n  location: {\n    pathname\n  }\n}) {\n  const type = pathname.split('/')[2];\n  const {\n    mealsToken,\n    cocktailsToken\n  } = useSelector(state => state.login);\n  const {\n    list\n  } = useSelector(state => state.recipes);\n  const dispatch = useDispatch();\n  const [id, setId] = useState('');\n  const prevList = useRef(list);\n\n  const handleClick = () => {\n    const token = type === 'comidas' ? mealsToken : cocktailsToken;\n    dispatch(fetchRecipes(token, type, {\n      request: 'random',\n      key: ''\n    }));\n  };\n\n  useEffect(() => {\n    if (list !== prevList.current) {\n      setId(list[0].id);\n    }\n\n    return () => setId('');\n  }, [list]);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Link, {\n    \"data-testid\": \"explore-by-ingredient\",\n    style: {\n      display: 'block'\n    },\n    to: `${pathname}/ingredientes`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 7\n    }\n  }, \"Por Ingredientes\"), type === 'comidas' && /*#__PURE__*/React.createElement(Link, {\n    \"data-testid\": \"explore-by-area\",\n    style: {\n      display: 'block'\n    },\n    to: `${pathname}/area`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 9\n    }\n  }, \"Por Local de Origem\"), /*#__PURE__*/React.createElement(\"button\", {\n    \"data-testid\": \"explore-surprise\",\n    style: {\n      display: 'block'\n    },\n    onClick: handleClick,\n    type: \"button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }\n  }, \"Me Surpreenda!\"), id && /*#__PURE__*/React.createElement(Redirect, {\n    to: `../${type}/${id}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(Footer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }\n  }));\n}\n\nExploreMain.propTypes = {\n  location: PropTypes.shape({\n    pathname: PropTypes.string.isRequired\n  }).isRequired\n};\nexport default ExploreMain;","map":{"version":3,"sources":["/home/alinedebastiani/sd-08-project-recipes-app/src/pages/ExploreMain.js"],"names":["React","useEffect","useRef","useState","PropTypes","Link","Redirect","useDispatch","useSelector","Footer","Header","fetchRecipes","ExploreMain","location","pathname","type","split","mealsToken","cocktailsToken","state","login","list","recipes","dispatch","id","setId","prevList","handleClick","token","request","key","current","display","propTypes","shape","string","isRequired"],"mappings":"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","sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { Link, Redirect } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport Footer from '../components/Footer';\nimport Header from '../components/Header';\nimport { fetchRecipes } from '../actions/recipes';\n\nfunction ExploreMain({ location: { pathname } }) {\n  const type = pathname.split('/')[2];\n  const { mealsToken, cocktailsToken } = useSelector((state) => state.login);\n  const { list } = useSelector((state) => state.recipes);\n  const dispatch = useDispatch();\n  const [id, setId] = useState('');\n  const prevList = useRef(list);\n\n  const handleClick = () => {\n    const token = type === 'comidas' ? mealsToken : cocktailsToken;\n    dispatch(fetchRecipes(token, type, { request: 'random', key: '' }));\n  };\n\n  useEffect(() => {\n    if (list !== prevList.current) {\n      setId(list[0].id);\n    }\n    return () => setId('');\n  }, [list]);\n\n  return (\n    <>\n      <Header />\n      <Link\n        data-testid=\"explore-by-ingredient\"\n        style={ { display: 'block' } }\n        to={ `${pathname}/ingredientes` }\n      >\n        Por Ingredientes\n      </Link>\n      { (type === 'comidas') && (\n        <Link\n          data-testid=\"explore-by-area\"\n          style={ { display: 'block' } }\n          to={ `${pathname}/area` }\n        >\n          Por Local de Origem\n        </Link>) }\n      <button\n        data-testid=\"explore-surprise\"\n        style={ { display: 'block' } }\n        onClick={ handleClick }\n        type=\"button\"\n      >\n        Me Surpreenda!\n      </button>\n      { id && <Redirect to={ `../${type}/${id}` } /> }\n      <Footer />\n    </>\n  );\n}\nExploreMain.propTypes = {\n  location: PropTypes.shape({\n    pathname: PropTypes.string.isRequired,\n  }).isRequired,\n};\n\nexport default ExploreMain;\n"]},"metadata":{},"sourceType":"module"}