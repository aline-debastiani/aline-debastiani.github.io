{"ast":null,"code":"import _slicedToArray from\"/home/alinedebastiani/sd-08-project-recipes-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{Alert,Button,Form}from'react-bootstrap';import{useDispatch,useSelector}from'react-redux';import{useLocation}from'react-router-dom';import{fetchRecipes}from'../actions/recipes';import'./SearchBar.css';var SearchBar=function SearchBar(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),filter=_useState2[0],setFilter=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),searchText=_useState4[0],setSearchText=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),show=_useState6[0],setShow=_useState6[1];var dispatch=useDispatch();var _useLocation=useLocation(),pathname=_useLocation.pathname;var _useSelector=useSelector(function(state){return state.login;}),mealsToken=_useSelector.mealsToken,cocktailsToken=_useSelector.cocktailsToken;var filterRecipes=function filterRecipes(e){e.preventDefault();setShow(false);if(filter==='f'&&searchText.length>1){alert('Sua busca deve conter somente 1 (um) caracter');setShow(true);return;}var token=pathname==='comidas'?mealsToken:cocktailsToken;if(filter==='i'){dispatch(fetchRecipes(token,pathname.slice(1),{request:'filter',key:filter,parameter:searchText}));return;}dispatch(fetchRecipes(token,pathname.slice(1),{key:filter,parameter:searchText}));setSearchText('');};return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Form,{className:\"search-bar\"},/*#__PURE__*/React.createElement(Form.Label,null,\"Campo de busca:\"),/*#__PURE__*/React.createElement(Form.Control,{type:\"text\",\"data-testid\":\"search-input\",value:searchText,onChange:function onChange(e){return setSearchText(e.target.value);}}),/*#__PURE__*/React.createElement(Form.Check,{\"data-testid\":\"ingredient-search-radio\",inline:true,label:\"Ingrediente\",name:\"filter\",onClick:function onClick(e){return setFilter(e.target.value);},type:\"radio\",value:\"i\"}),/*#__PURE__*/React.createElement(Form.Check,{\"data-testid\":\"name-search-radio\",inline:true,label:\"Nome\",name:\"filter\",onClick:function onClick(e){return setFilter(e.target.value);},type:\"radio\",value:\"s\"}),/*#__PURE__*/React.createElement(Form.Check,{\"data-testid\":\"first-letter-search-radio\",inline:true,label:\"Primeira letra\",name:\"filter\",onClick:function onClick(e){return setFilter(e.target.value);},type:\"radio\",value:\"f\"}),/*#__PURE__*/React.createElement(Button,{block:true,className:\"search-bar-btn\",\"data-testid\":\"exec-search-btn\",onClick:function onClick(e){filterRecipes(e);},variant:\"primary\"},\"Buscar\")),show?/*#__PURE__*/React.createElement(Alert,{style:{marginTop:'20px'},variant:\"danger\"},Date.now()%2===0?/*#__PURE__*/React.createElement(Alert.Heading,null,\"Uai...\"):/*#__PURE__*/React.createElement(Alert.Heading,null,\"Oxi...\"),/*#__PURE__*/React.createElement(\"p\",null,\"O campo de busca de conter apenas a letra inicial\")):'');};export default SearchBar;","map":{"version":3,"sources":["/home/alinedebastiani/sd-08-project-recipes-app/src/components/SearchBar.jsx"],"names":["React","useState","Alert","Button","Form","useDispatch","useSelector","useLocation","fetchRecipes","SearchBar","filter","setFilter","searchText","setSearchText","show","setShow","dispatch","pathname","state","login","mealsToken","cocktailsToken","filterRecipes","e","preventDefault","length","alert","token","slice","request","key","parameter","target","value","marginTop","Date","now"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport { Alert, Button, Form } from 'react-bootstrap';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useLocation } from 'react-router-dom';\nimport { fetchRecipes } from '../actions/recipes';\nimport './SearchBar.css';\n\nconst SearchBar = () => {\n  const [filter, setFilter] = useState('');\n  const [searchText, setSearchText] = useState('');\n  const [show, setShow] = useState(false);\n  const dispatch = useDispatch();\n  const { pathname } = useLocation();\n  const { mealsToken, cocktailsToken } = useSelector((state) => state.login);\n\n  const filterRecipes = (e) => {\n    e.preventDefault();\n    setShow(false);\n    if (filter === 'f' && searchText.length > 1) {\n      alert('Sua busca deve conter somente 1 (um) caracter');\n      setShow(true);\n      return;\n    }\n    const token = pathname === 'comidas' ? mealsToken : cocktailsToken;\n    if (filter === 'i') {\n      dispatch(fetchRecipes(token, pathname.slice(1),\n        { request: 'filter', key: filter, parameter: searchText }));\n      return;\n    }\n    dispatch(\n      fetchRecipes(token, pathname.slice(1), { key: filter, parameter: searchText }),\n    );\n    setSearchText('');\n  };\n\n  return (\n    <>\n      <Form className=\"search-bar\">\n        <Form.Label>Campo de busca:</Form.Label>\n        <Form.Control\n          type=\"text\"\n          data-testid=\"search-input\"\n          value={ searchText }\n          onChange={ (e) => setSearchText(e.target.value) }\n        />\n        <Form.Check\n          data-testid=\"ingredient-search-radio\"\n          inline\n          label=\"Ingrediente\"\n          name=\"filter\"\n          onClick={ (e) => setFilter(e.target.value) }\n          type=\"radio\"\n          value=\"i\"\n        />\n        <Form.Check\n          data-testid=\"name-search-radio\"\n          inline\n          label=\"Nome\"\n          name=\"filter\"\n          onClick={ (e) => setFilter(e.target.value) }\n          type=\"radio\"\n          value=\"s\"\n        />\n        <Form.Check\n          data-testid=\"first-letter-search-radio\"\n          inline\n          label=\"Primeira letra\"\n          name=\"filter\"\n          onClick={ (e) => setFilter(e.target.value) }\n          type=\"radio\"\n          value=\"f\"\n        />\n\n        <Button\n          block\n          className=\"search-bar-btn\"\n          data-testid=\"exec-search-btn\"\n          onClick={ (e) => { filterRecipes(e); } }\n          variant=\"primary\"\n        >\n          Buscar\n        </Button>\n      </Form>\n      { show ? (\n        <Alert\n          style={ { marginTop: '20px' } }\n          variant=\"danger\"\n        >\n          {\n            (Date.now() % 2 === 0)\n              ? <Alert.Heading>Uai...</Alert.Heading>\n              : <Alert.Heading>Oxi...</Alert.Heading>\n          }\n          <p>O campo de busca de conter apenas a letra inicial</p>\n        </Alert>)\n        : '' }\n    </>\n  );\n};\n\nexport default SearchBar;\n"]},"metadata":{},"sourceType":"module"}