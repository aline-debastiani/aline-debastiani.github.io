{"ast":null,"code":"var _jsxFileName = \"/home/alinedebastiani/sd-08-project-recipes-app/src/components/SearchBar.jsx\";\nimport React, { useState } from 'react';\nimport { Alert, Button, Form } from 'react-bootstrap';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useLocation } from 'react-router-dom';\nimport { fetchRecipes } from '../actions/recipes';\nimport './SearchBar.css';\n\nconst SearchBar = () => {\n  const [filter, setFilter] = useState('');\n  const [searchText, setSearchText] = useState('');\n  const [show, setShow] = useState(false);\n  const dispatch = useDispatch();\n  const {\n    pathname\n  } = useLocation();\n  const {\n    mealsToken,\n    cocktailsToken\n  } = useSelector(state => state.login);\n\n  const filterRecipes = e => {\n    e.preventDefault();\n    setShow(false);\n\n    if (filter === 'f' && searchText.length > 1) {\n      alert('Sua busca deve conter somente 1 (um) caracter');\n      setShow(true);\n      return;\n    }\n\n    const token = pathname === 'comidas' ? mealsToken : cocktailsToken;\n\n    if (filter === 'i') {\n      dispatch(fetchRecipes(token, pathname.slice(1), {\n        request: 'filter',\n        key: filter,\n        parameter: searchText\n      }));\n      return;\n    }\n\n    dispatch(fetchRecipes(token, pathname.slice(1), {\n      key: filter,\n      parameter: searchText\n    }));\n    setSearchText('');\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Form, {\n    className: \"search-bar\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 9\n    }\n  }, \"Campo de busca:\"), /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"text\",\n    \"data-testid\": \"search-input\",\n    value: searchText,\n    onChange: e => setSearchText(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Form.Check, {\n    \"data-testid\": \"ingredient-search-radio\",\n    inline: true,\n    label: \"Ingrediente\",\n    name: \"filter\",\n    onClick: e => setFilter(e.target.value),\n    type: \"radio\",\n    value: \"i\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Form.Check, {\n    \"data-testid\": \"name-search-radio\",\n    inline: true,\n    label: \"Nome\",\n    name: \"filter\",\n    onClick: e => setFilter(e.target.value),\n    type: \"radio\",\n    value: \"s\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Form.Check, {\n    \"data-testid\": \"first-letter-search-radio\",\n    inline: true,\n    label: \"Primeira letra\",\n    name: \"filter\",\n    onClick: e => setFilter(e.target.value),\n    type: \"radio\",\n    value: \"f\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    block: true,\n    className: \"search-bar-btn\",\n    \"data-testid\": \"exec-search-btn\",\n    onClick: e => {\n      filterRecipes(e);\n    },\n    variant: \"primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 9\n    }\n  }, \"Buscar\")), show ? /*#__PURE__*/React.createElement(Alert, {\n    style: {\n      marginTop: '20px'\n    },\n    variant: \"danger\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 9\n    }\n  }, Date.now() % 2 === 0 ? /*#__PURE__*/React.createElement(Alert.Heading, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 17\n    }\n  }, \"Uai...\") : /*#__PURE__*/React.createElement(Alert.Heading, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 17\n    }\n  }, \"Oxi...\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 11\n    }\n  }, \"O campo de busca de conter apenas a letra inicial\")) : '');\n};\n\nexport default SearchBar;","map":{"version":3,"sources":["/home/alinedebastiani/sd-08-project-recipes-app/src/components/SearchBar.jsx"],"names":["React","useState","Alert","Button","Form","useDispatch","useSelector","useLocation","fetchRecipes","SearchBar","filter","setFilter","searchText","setSearchText","show","setShow","dispatch","pathname","mealsToken","cocktailsToken","state","login","filterRecipes","e","preventDefault","length","alert","token","slice","request","key","parameter","target","value","marginTop","Date","now"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport { Alert, Button, Form } from 'react-bootstrap';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useLocation } from 'react-router-dom';\nimport { fetchRecipes } from '../actions/recipes';\nimport './SearchBar.css';\n\nconst SearchBar = () => {\n  const [filter, setFilter] = useState('');\n  const [searchText, setSearchText] = useState('');\n  const [show, setShow] = useState(false);\n  const dispatch = useDispatch();\n  const { pathname } = useLocation();\n  const { mealsToken, cocktailsToken } = useSelector((state) => state.login);\n\n  const filterRecipes = (e) => {\n    e.preventDefault();\n    setShow(false);\n    if (filter === 'f' && searchText.length > 1) {\n      alert('Sua busca deve conter somente 1 (um) caracter');\n      setShow(true);\n      return;\n    }\n    const token = pathname === 'comidas' ? mealsToken : cocktailsToken;\n    if (filter === 'i') {\n      dispatch(fetchRecipes(token, pathname.slice(1),\n        { request: 'filter', key: filter, parameter: searchText }));\n      return;\n    }\n    dispatch(\n      fetchRecipes(token, pathname.slice(1), { key: filter, parameter: searchText }),\n    );\n    setSearchText('');\n  };\n\n  return (\n    <>\n      <Form className=\"search-bar\">\n        <Form.Label>Campo de busca:</Form.Label>\n        <Form.Control\n          type=\"text\"\n          data-testid=\"search-input\"\n          value={ searchText }\n          onChange={ (e) => setSearchText(e.target.value) }\n        />\n        <Form.Check\n          data-testid=\"ingredient-search-radio\"\n          inline\n          label=\"Ingrediente\"\n          name=\"filter\"\n          onClick={ (e) => setFilter(e.target.value) }\n          type=\"radio\"\n          value=\"i\"\n        />\n        <Form.Check\n          data-testid=\"name-search-radio\"\n          inline\n          label=\"Nome\"\n          name=\"filter\"\n          onClick={ (e) => setFilter(e.target.value) }\n          type=\"radio\"\n          value=\"s\"\n        />\n        <Form.Check\n          data-testid=\"first-letter-search-radio\"\n          inline\n          label=\"Primeira letra\"\n          name=\"filter\"\n          onClick={ (e) => setFilter(e.target.value) }\n          type=\"radio\"\n          value=\"f\"\n        />\n\n        <Button\n          block\n          className=\"search-bar-btn\"\n          data-testid=\"exec-search-btn\"\n          onClick={ (e) => { filterRecipes(e); } }\n          variant=\"primary\"\n        >\n          Buscar\n        </Button>\n      </Form>\n      { show ? (\n        <Alert\n          style={ { marginTop: '20px' } }\n          variant=\"danger\"\n        >\n          {\n            (Date.now() % 2 === 0)\n              ? <Alert.Heading>Uai...</Alert.Heading>\n              : <Alert.Heading>Oxi...</Alert.Heading>\n          }\n          <p>O campo de busca de conter apenas a letra inicial</p>\n        </Alert>)\n        : '' }\n    </>\n  );\n};\n\nexport default SearchBar;\n"]},"metadata":{},"sourceType":"module"}