{"ast":null,"code":"var _jsxFileName = \"/home/alinedebastiani/sd-08-project-recipes-app/src/pages/ExploreMain.js\";\nimport React, { useEffect, useRef, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { Link, Redirect } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport Footer from '../components/Footer';\nimport { fetchRecipes } from '../actions/recipes';\nimport Header from '../components/Header';\n\nfunction ExploreMain({\n  location: {\n    pathname\n  }\n}) {\n  const prevPath = pathname.split('/')[2];\n  console.log(prevPath);\n  const selectType = {\n    comidas: {\n      0: 'meals',\n      1: 'idMeal'\n    },\n    bebidas: {\n      0: 'drinks',\n      1: 'idDrink'\n    }\n  };\n  const type = selectType[prevPath][0];\n  const idType = selectType[prevPath][1];\n  const {\n    list\n  } = useSelector(state => state.recipes);\n  const dispatch = useDispatch(); // const A = [1];\n  // const B = [...A];\n  // A.push(2);\n  // console.log(A);\n  // console.log(B);\n\n  const [id, setId] = useState('');\n  const prevList = useRef(list);\n\n  const handleClick = () => {\n    dispatch(fetchRecipes(type, {\n      request: 'random',\n      key: ''\n    }));\n  };\n\n  useEffect(() => {\n    if (list !== prevList.current) {\n      console.log(list, prevList);\n      setId(list[0][idType]);\n    }\n\n    return () => setId('');\n  }, [list]);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }\n  }, `Explorar ${prevPath}`), /*#__PURE__*/React.createElement(Link, {\n    \"data-testid\": \"explore-by-ingredient\",\n    to: `${pathname}/ingredientes`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }\n  }, \"Por Ingredientes\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }\n  }), prevPath === 'comidas' && /*#__PURE__*/React.createElement(Link, {\n    \"data-testid\": \"explore-by-area\",\n    to: `${pathname}/area`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }\n  }, \"Por Local de Origem\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    \"data-testid\": \"explore-surprise\",\n    onClick: handleClick,\n    type: \"button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }\n  }, \"Me Surpreenda!\"), id && /*#__PURE__*/React.createElement(Redirect, {\n    to: `../${prevPath}/${id}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(Footer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }\n  }));\n}\n\nExploreMain.propTypes = {\n  location: PropTypes.shape({\n    pathname: PropTypes.string.isRequired\n  }).isRequired\n};\nexport default ExploreMain;","map":{"version":3,"sources":["/home/alinedebastiani/sd-08-project-recipes-app/src/pages/ExploreMain.js"],"names":["React","useEffect","useRef","useState","PropTypes","Link","Redirect","useDispatch","useSelector","Footer","fetchRecipes","Header","ExploreMain","location","pathname","prevPath","split","console","log","selectType","comidas","bebidas","type","idType","list","state","recipes","dispatch","id","setId","prevList","handleClick","request","key","current","propTypes","shape","string","isRequired"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,MAA3B,EAAmCC,QAAnC,QAAmD,OAAnD;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,SAASC,IAAT,EAAeC,QAAf,QAA+B,kBAA/B;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,OAAOC,MAAP,MAAmB,sBAAnB;AACA,SAASC,YAAT,QAA6B,oBAA7B;AACA,OAAOC,MAAP,MAAmB,sBAAnB;;AAEA,SAASC,WAAT,CAAqB;AAAEC,EAAAA,QAAQ,EAAE;AAAEC,IAAAA;AAAF;AAAZ,CAArB,EAAiD;AAC/C,QAAMC,QAAQ,GAAGD,QAAQ,CAACE,KAAT,CAAe,GAAf,EAAoB,CAApB,CAAjB;AAAyCC,EAAAA,OAAO,CAACC,GAAR,CAAYH,QAAZ;AACzC,QAAMI,UAAU,GAAG;AACjBC,IAAAA,OAAO,EAAE;AAAE,SAAG,OAAL;AAAc,SAAG;AAAjB,KADQ;AAEjBC,IAAAA,OAAO,EAAE;AAAE,SAAG,QAAL;AAAe,SAAG;AAAlB;AAFQ,GAAnB;AAIA,QAAMC,IAAI,GAAGH,UAAU,CAACJ,QAAD,CAAV,CAAqB,CAArB,CAAb;AACA,QAAMQ,MAAM,GAAGJ,UAAU,CAACJ,QAAD,CAAV,CAAqB,CAArB,CAAf;AAEA,QAAM;AAAES,IAAAA;AAAF,MAAWhB,WAAW,CAAEiB,KAAD,IAAWA,KAAK,CAACC,OAAlB,CAA5B;AACA,QAAMC,QAAQ,GAAGpB,WAAW,EAA5B,CAV+C,CAY/C;AACA;AAEA;AACA;AACA;;AAEA,QAAM,CAACqB,EAAD,EAAKC,KAAL,IAAc1B,QAAQ,CAAC,EAAD,CAA5B;AACA,QAAM2B,QAAQ,GAAG5B,MAAM,CAACsB,IAAD,CAAvB;;AAEA,QAAMO,WAAW,GAAG,MAAM;AACxBJ,IAAAA,QAAQ,CAACjB,YAAY,CAACY,IAAD,EAAO;AAAEU,MAAAA,OAAO,EAAE,QAAX;AAAqBC,MAAAA,GAAG,EAAE;AAA1B,KAAP,CAAb,CAAR;AACD,GAFD;;AAIAhC,EAAAA,SAAS,CAAC,MAAM;AACd,QAAIuB,IAAI,KAAKM,QAAQ,CAACI,OAAtB,EAA+B;AAC7BjB,MAAAA,OAAO,CAACC,GAAR,CAAYM,IAAZ,EAAkBM,QAAlB;AACAD,MAAAA,KAAK,CAACL,IAAI,CAAC,CAAD,CAAJ,CAAQD,MAAR,CAAD,CAAL;AACD;;AACD,WAAO,MAAMM,KAAK,CAAC,EAAD,CAAlB;AACD,GANQ,EAMN,CAACL,IAAD,CANM,CAAT;AAQA,sBACE,uDACE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAO,YAAWT,QAAS,EAA3B,CAFF,eAGE,oBAAC,IAAD;AAAM,mBAAY,uBAAlB;AAA0C,IAAA,EAAE,EAAI,GAAED,QAAS,eAA3D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAHF,eAME;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IANF,EAOKC,QAAQ,KAAK,SAAd,iBACA,oBAAC,IAAD;AAAM,mBAAY,iBAAlB;AAAoC,IAAA,EAAE,EAAI,GAAED,QAAS,OAArD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BARJ,eAWE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAXF,eAYE;AAAQ,mBAAY,kBAApB;AAAuC,IAAA,OAAO,EAAGiB,WAAjD;AAA+D,IAAA,IAAI,EAAC,QAApE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAZF,EAeIH,EAAE,iBAAI,oBAAC,QAAD;AAAU,IAAA,EAAE,EAAI,MAAKb,QAAS,IAAGa,EAAG,EAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAfV,eAgBE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAhBF,CADF;AAoBD;;AACDhB,WAAW,CAACuB,SAAZ,GAAwB;AACtBtB,EAAAA,QAAQ,EAAET,SAAS,CAACgC,KAAV,CAAgB;AACxBtB,IAAAA,QAAQ,EAAEV,SAAS,CAACiC,MAAV,CAAiBC;AADH,GAAhB,EAEPA;AAHmB,CAAxB;AAMA,eAAe1B,WAAf","sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { Link, Redirect } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport Footer from '../components/Footer';\nimport { fetchRecipes } from '../actions/recipes';\nimport Header from '../components/Header';\n\nfunction ExploreMain({ location: { pathname } }) {\n  const prevPath = pathname.split('/')[2]; console.log(prevPath);\n  const selectType = {\n    comidas: { 0: 'meals', 1: 'idMeal' },\n    bebidas: { 0: 'drinks', 1: 'idDrink' },\n  };\n  const type = selectType[prevPath][0];\n  const idType = selectType[prevPath][1];\n\n  const { list } = useSelector((state) => state.recipes);\n  const dispatch = useDispatch();\n\n  // const A = [1];\n  // const B = [...A];\n\n  // A.push(2);\n  // console.log(A);\n  // console.log(B);\n\n  const [id, setId] = useState('');\n  const prevList = useRef(list);\n\n  const handleClick = () => {\n    dispatch(fetchRecipes(type, { request: 'random', key: '' }));\n  };\n\n  useEffect(() => {\n    if (list !== prevList.current) {\n      console.log(list, prevList);\n      setId(list[0][idType]);\n    }\n    return () => setId('');\n  }, [list]);\n\n  return (\n    <>\n      <Header />\n      <h1>{ `Explorar ${prevPath}` }</h1>\n      <Link data-testid=\"explore-by-ingredient\" to={ `${pathname}/ingredientes` }>\n        Por Ingredientes\n      </Link>\n      <br />\n      { (prevPath === 'comidas') && (\n        <Link data-testid=\"explore-by-area\" to={ `${pathname}/area` }>\n          Por Local de Origem\n        </Link>) }\n      <br />\n      <button data-testid=\"explore-surprise\" onClick={ handleClick } type=\"button\">\n        Me Surpreenda!\n      </button>\n      { id && <Redirect to={ `../${prevPath}/${id}` } /> }\n      <Footer />\n    </>\n  );\n}\nExploreMain.propTypes = {\n  location: PropTypes.shape({\n    pathname: PropTypes.string.isRequired,\n  }).isRequired,\n};\n\nexport default ExploreMain;\n"]},"metadata":{},"sourceType":"module"}