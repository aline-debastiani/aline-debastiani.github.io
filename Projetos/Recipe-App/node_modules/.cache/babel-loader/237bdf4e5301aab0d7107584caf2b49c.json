{"ast":null,"code":"import _slicedToArray from\"/home/alinedebastiani/sd-08-project-recipes-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import{Link}from'react-router-dom';import{useSelector}from'react-redux';import{Button}from'react-bootstrap';import ShareButton from'../components/ShareButton';import FavButton from'../components/FavButton';import Header from'../components/Header';import'bootstrap/dist/css/bootstrap.min.css';import'./RecipesDoneAndFavorite.css';function RecipesDoneAndFavorite(_ref){var pathname=_ref.location.pathname;var _useSelector=useSelector(function(state){return state.recipes;}),done=_useSelector.done,favorite=_useSelector.favorite;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),recipes=_useState2[0],setRecipes=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),isDone=_useState4[0],setIsDone=_useState4[1];var _useState5=useState('todos'),_useState6=_slicedToArray(_useState5,2),filter=_useState6[0],setFilter=_useState6[1];useEffect(function(){if(pathname.endsWith('feitas')){setRecipes(done);setIsDone(true);}else{setIsDone(false);setRecipes(favorite);}},[pathname,favorite]);return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Header,null),/*#__PURE__*/React.createElement(Button,{block:true,className:\"fav-done-btn custom-btn\",\"data-testid\":\"filter-by-all-btn\",onClick:function onClick(){return setFilter('todos');},type:\"button\"},\"All\"),/*#__PURE__*/React.createElement(\"nav\",{className:\"nav-catogories\"},/*#__PURE__*/React.createElement(Button,{className:\"custom-btn\",\"data-testid\":\"filter-by-food-btn\",onClick:function onClick(){return setFilter('comida');},type:\"button\"},\"Food\"),/*#__PURE__*/React.createElement(Button,{className:\"custom-btn\",\"data-testid\":\"filter-by-drink-btn\",onClick:function onClick(){return setFilter('bebida');},type:\"button\"},\"Drinks\")),recipes.filter(function(_ref2){var type=_ref2.type;return type===filter||filter==='todos';}).map(function(recipe,index){return/*#__PURE__*/React.createElement(\"div\",{key:recipe.id},/*#__PURE__*/React.createElement(\"hr\",null),console.log(recipe),/*#__PURE__*/React.createElement(Link,{to:\"/\".concat(recipe.type,\"s/\").concat(recipe.id)},/*#__PURE__*/React.createElement(\"img\",{alt:recipe.name,className:\"fav-done-img\",\"data-testid\":\"\".concat(index,\"-horizontal-image\"),src:recipe.image}),/*#__PURE__*/React.createElement(\"h1\",{className:\"fav-done-title\",\"data-testid\":\"\".concat(index,\"-horizontal-name\")},recipe.name)),/*#__PURE__*/React.createElement(\"section\",{className:\"fav-done-body\"},/*#__PURE__*/React.createElement(\"div\",{className:\"fav-done-info\"},/*#__PURE__*/React.createElement(\"p\",{\"data-testid\":\"\".concat(index,\"-horizontal-top-text\")},recipe.type.startsWith('comida')&&\"\".concat(recipe.area,\" - \").concat(recipe.category),recipe.type.startsWith('bebida')&&recipe.alcoholicOrNot),isDone&&/*#__PURE__*/React.createElement(\"p\",{\"data-testid\":\"\".concat(index,\"-horizontal-done-date\")},recipe.doneDate),isDone&&recipe.tags.map(function(tag,tagIndex){return/*#__PURE__*/React.createElement(\"p\",{key:\"\".concat(recipe.id,\"-tag-\").concat(tagIndex),\"data-testid\":\"\".concat(index,\"-\").concat(tag,\"-horizontal-tag\")},tag);})),/*#__PURE__*/React.createElement(\"div\",{className:\"icon-container\"},/*#__PURE__*/React.createElement(ShareButton,{id:recipe.id,index:index,type:\"\".concat(recipe.type,\"s\")}),/*#__PURE__*/React.createElement(FavButton,{index:index,recipe:recipe,type:\"\".concat(recipe.type,\"s\")}))));}));}export default RecipesDoneAndFavorite;","map":{"version":3,"sources":["/home/alinedebastiani/sd-08-project-recipes-app/src/pages/RecipesDoneAndFavorite.js"],"names":["React","useEffect","useState","Link","useSelector","Button","ShareButton","FavButton","Header","RecipesDoneAndFavorite","pathname","location","state","recipes","done","favorite","setRecipes","isDone","setIsDone","filter","setFilter","endsWith","type","map","recipe","index","id","console","log","name","image","startsWith","area","category","alcoholicOrNot","doneDate","tags","tag","tagIndex"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\nimport { useSelector } from 'react-redux';\nimport { Button } from 'react-bootstrap';\nimport ShareButton from '../components/ShareButton';\nimport FavButton from '../components/FavButton';\nimport Header from '../components/Header';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './RecipesDoneAndFavorite.css';\n\nfunction RecipesDoneAndFavorite({ location: { pathname } }) {\n  const { done, favorite } = useSelector((state) => state.recipes);\n  const [recipes, setRecipes] = useState([]);\n  const [isDone, setIsDone] = useState();\n  const [filter, setFilter] = useState('todos');\n\n  useEffect(() => {\n    if (pathname.endsWith('feitas')) {\n      setRecipes(done);\n      setIsDone(true);\n    } else {\n      setIsDone(false);\n      setRecipes(favorite);\n    }\n  }, [pathname, favorite]);\n\n  return (\n    <div>\n      <Header />\n      <Button\n        block\n        className=\"fav-done-btn custom-btn\"\n        data-testid=\"filter-by-all-btn\"\n        onClick={ () => setFilter('todos') }\n        type=\"button\"\n      >\n        All\n      </Button>\n      <nav className=\"nav-catogories\">\n        <Button\n          className=\"custom-btn\"\n          data-testid=\"filter-by-food-btn\"\n          onClick={ () => setFilter('comida') }\n          type=\"button\"\n        >\n          Food\n        </Button>\n        <Button\n          className=\"custom-btn\"\n          data-testid=\"filter-by-drink-btn\"\n          onClick={ () => setFilter('bebida') }\n          type=\"button\"\n        >\n          Drinks\n        </Button>\n      </nav>\n      {recipes.filter(({ type }) => type === filter || filter === 'todos')\n        .map((recipe, index) => (\n          <div key={ recipe.id }>\n            <hr />\n            { console.log(recipe) }\n            <Link to={ `/${recipe.type}s/${recipe.id}` }>\n              <img\n                alt={ recipe.name }\n                className=\"fav-done-img\"\n                data-testid={ `${index}-horizontal-image` }\n                src={ recipe.image }\n              />\n              <h1\n                className=\"fav-done-title\"\n                data-testid={ `${index}-horizontal-name` }\n              >\n                { recipe.name }\n              </h1>\n            </Link>\n            <section className=\"fav-done-body\">\n              <div className=\"fav-done-info\">\n                <p\n                  data-testid={ `${index}-horizontal-top-text` }\n                >\n                  { recipe.type.startsWith('comida')\n                  && `${recipe.area} - ${recipe.category}` }\n                  { recipe.type.startsWith('bebida') && recipe.alcoholicOrNot }\n                </p>\n                { isDone && (\n                  <p data-testid={ `${index}-horizontal-done-date` }>\n                    {recipe.doneDate}\n                  </p>\n                )}\n                {isDone && (\n                  recipe.tags.map((tag, tagIndex) => (\n                    <p\n                      key={ `${recipe.id}-tag-${tagIndex}` }\n                      data-testid={ `${index}-${tag}-horizontal-tag` }\n                    >\n                      { tag }\n                    </p>\n                  ))\n                )}\n              </div>\n              <div className=\"icon-container\">\n                <ShareButton\n                  id={ recipe.id }\n                  index={ index }\n                  type={ `${recipe.type}s` }\n                />\n                <FavButton\n                  index={ index }\n                  recipe={ recipe }\n                  type={ `${recipe.type}s` }\n                />\n              </div>\n            </section>\n          </div>\n        ))}\n    </div>\n\n  );\n}\n\nRecipesDoneAndFavorite.propTypes = {\n  location: PropTypes.shape({\n    pathname: PropTypes.string.isRequired,\n  }).isRequired,\n};\n\nexport default RecipesDoneAndFavorite;\n"]},"metadata":{},"sourceType":"module"}