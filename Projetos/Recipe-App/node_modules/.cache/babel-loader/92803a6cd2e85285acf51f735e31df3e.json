{"ast":null,"code":"import { ADD_CATEGORIES, ADD_FAVORITE, ADD_RECIPES, ADD_RECOMMENDATIONS, END_RECIPE, REQUEST_RECIPES, RM_FAVORITE, START_RECIPE, ADD_BYINGREDIENT } from './index';\n\nconst addRecipes = payload => ({\n  type: ADD_RECIPES,\n  payload\n});\n\nconst requestRecipes = () => ({\n  type: REQUEST_RECIPES\n});\n\nexport const fetchRecipes = (type = 'meals', {\n  request = 'search',\n  key = 's',\n  parameter = ''\n} = {}) => async dispatch => {\n  const token = 1;\n  dispatch(requestRecipes());\n  const domains = {\n    meals: 'themealdb',\n    drinks: 'thecocktaildb'\n  };\n  let url = `https://www.${domains[type]}.com/api/json/v1/${token}/${request}.php?${key}=${parameter}`;\n  if (!key) url = `https://www.${domains[type]}.com/api/json/v1/${token}/${request}.php`;\n  const data = await fetch(url);\n  const {\n    [type]: recipes\n  } = await data.json();\n  dispatch(addRecipes(recipes));\n}; // if (url === 'https://www.themealdb.com/api/json/v1/1/list.php?i=list')\n// return Promise.resolve(mealIngredients);\n// if (url === 'https://www.themealdb.com/api/json/v1/1/filter.php?i=Chicken')\n// return Promise.resolve(mealsByIngredient);\n// if (url === 'https://www.thecocktaildb.com/api/json/v1/1/list.php?i=list')\n// return Promise.resolve(drinkIngredients);\n// if (url === 'https://www.thecocktaildb.com/api/json/v1/1/filter.php?i=Light rum')\n// return Promise.resolve(drinksByIngredient);\n\nconst addCategories = payload => ({\n  type: ADD_CATEGORIES,\n  payload\n});\n\nexport const fetchCategories = (token, type = 'meals') => async dispatch => {\n  const urlOpt = {\n    meals: `https://www.themealdb.com/api/json/v1/${token}/list.php?c=list`,\n    drinks: `https://www.thecocktaildb.com/api/json/v1/${token}/list.php?c=list`\n  };\n  const data = await fetch(urlOpt[type]);\n  const {\n    [type]: categories\n  } = await data.json();\n  const CATEGORIES_NUMBER = 5;\n  const categoriesArray = categories.slice(0, CATEGORIES_NUMBER).map(({\n    strCategory\n  }) => strCategory);\n  dispatch(addCategories(categoriesArray));\n};\n\nconst addRecommendations = payload => ({\n  type: ADD_RECOMMENDATIONS,\n  payload\n});\n\nexport const fetchRecommendations = (token, type = 'meals') => async dispatch => {\n  const domains = {\n    meals: 'themealdb',\n    drinks: 'thecocktaildb'\n  };\n  const url = `https://www.${domains[type]}.com/api/json/v1/${token}/search.php?s=`;\n  const data = await fetch(url);\n  const {\n    [type]: recipes\n  } = await data.json();\n  dispatch(addRecommendations(recipes));\n};\nexport const startRecipe = (selectedType, payload) => ({\n  selectedType,\n  type: START_RECIPE,\n  payload\n});\nexport const endRecipe = payload => ({\n  type: END_RECIPE,\n  payload\n});\nexport const addFavorite = payload => ({\n  type: ADD_FAVORITE,\n  payload\n});\nexport const removeFavorite = payload => ({\n  type: RM_FAVORITE,\n  payload\n});\nexport const byAddIngredient = payload => ({\n  type: ADD_BYINGREDIENT,\n  payload\n});","map":{"version":3,"sources":["/home/alinedebastiani/sd-08-project-recipes-app/src/actions/recipes.js"],"names":["ADD_CATEGORIES","ADD_FAVORITE","ADD_RECIPES","ADD_RECOMMENDATIONS","END_RECIPE","REQUEST_RECIPES","RM_FAVORITE","START_RECIPE","ADD_BYINGREDIENT","addRecipes","payload","type","requestRecipes","fetchRecipes","request","key","parameter","dispatch","token","domains","meals","drinks","url","data","fetch","recipes","json","addCategories","fetchCategories","urlOpt","categories","CATEGORIES_NUMBER","categoriesArray","slice","map","strCategory","addRecommendations","fetchRecommendations","startRecipe","selectedType","endRecipe","addFavorite","removeFavorite","byAddIngredient"],"mappings":"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","sourcesContent":["import { ADD_CATEGORIES, ADD_FAVORITE, ADD_RECIPES,\n  ADD_RECOMMENDATIONS, END_RECIPE, REQUEST_RECIPES, RM_FAVORITE,\n  START_RECIPE, ADD_BYINGREDIENT } from './index';\n\nconst addRecipes = (payload) => ({\n  type: ADD_RECIPES,\n  payload,\n});\n\nconst requestRecipes = () => ({\n  type: REQUEST_RECIPES,\n});\n\nexport const fetchRecipes = (type = 'meals',\n  { request = 'search', key = 's', parameter = '' } = {}) => (\n  async (dispatch) => {\n    const token = 1;\n    dispatch(requestRecipes());\n    const domains = { meals: 'themealdb', drinks: 'thecocktaildb' };\n    let url = `https://www.${domains[type]}.com/api/json/v1/${token}/${request}.php?${key}=${parameter}`;\n    if (!key) url = `https://www.${domains[type]}.com/api/json/v1/${token}/${request}.php`;\n    const data = await fetch(url);\n    const { [type]: recipes } = await data.json();\n    dispatch(addRecipes(recipes));\n  }\n);\n\n// if (url === 'https://www.themealdb.com/api/json/v1/1/list.php?i=list')\n// return Promise.resolve(mealIngredients);\n\n// if (url === 'https://www.themealdb.com/api/json/v1/1/filter.php?i=Chicken')\n// return Promise.resolve(mealsByIngredient);\n\n// if (url === 'https://www.thecocktaildb.com/api/json/v1/1/list.php?i=list')\n// return Promise.resolve(drinkIngredients);\n\n// if (url === 'https://www.thecocktaildb.com/api/json/v1/1/filter.php?i=Light rum')\n// return Promise.resolve(drinksByIngredient);\n\nconst addCategories = (payload) => ({\n  type: ADD_CATEGORIES,\n  payload,\n});\n\nexport const fetchCategories = (token, type = 'meals') => (\n  async (dispatch) => {\n    const urlOpt = { meals: `https://www.themealdb.com/api/json/v1/${token}/list.php?c=list`,\n      drinks: `https://www.thecocktaildb.com/api/json/v1/${token}/list.php?c=list` };\n    const data = await fetch(urlOpt[type]);\n    const { [type]: categories } = await data.json();\n    const CATEGORIES_NUMBER = 5;\n    const categoriesArray = categories.slice(0, CATEGORIES_NUMBER)\n      .map(({ strCategory }) => strCategory);\n    dispatch(addCategories(categoriesArray));\n  }\n);\n\nconst addRecommendations = (payload) => ({\n  type: ADD_RECOMMENDATIONS,\n  payload,\n});\n\nexport const fetchRecommendations = (token, type = 'meals') => (\n  async (dispatch) => {\n    const domains = { meals: 'themealdb', drinks: 'thecocktaildb' };\n    const url = `https://www.${domains[type]}.com/api/json/v1/${token}/search.php?s=`;\n    const data = await fetch(url);\n    const { [type]: recipes } = await data.json();\n    dispatch(addRecommendations(recipes));\n  }\n);\n\nexport const startRecipe = (selectedType, payload) => ({\n  selectedType,\n  type: START_RECIPE,\n  payload,\n});\n\nexport const endRecipe = (payload) => ({\n  type: END_RECIPE,\n  payload,\n});\n\nexport const addFavorite = (payload) => ({\n  type: ADD_FAVORITE,\n  payload,\n});\n\nexport const removeFavorite = (payload) => ({\n  type: RM_FAVORITE,\n  payload,\n});\n\nexport const byAddIngredient = (payload) => ({\n  type: ADD_BYINGREDIENT,\n  payload,\n});\n"]},"metadata":{},"sourceType":"module"}