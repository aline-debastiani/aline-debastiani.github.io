{"ast":null,"code":"var _jsxFileName = \"/home/alinedebastiani/sd-08-project-recipes-app/src/components/FavButton.jsx\";\nimport React, { useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { addFavorite, removeFavorite } from '../actions/recipes';\nimport FavIcon from \"../images/whiteHeartIcon.svg\";\nimport BlackFavIcon from \"../images/blackHeartIcon.svg\";\n\nfunction FavButton({\n  type,\n  recipe\n}) {\n  const favorite = useSelector(state => state.recipes.favorite);\n  const dispatch = useDispatch(); // const formatedType = type === 'Meal' ? 'comida' : 'bebida';\n\n  const handleClick = () => {\n    const fav = favorite.find(currRec => recipe.id === currRec.id && type.startsWith(currRec.type)); // const { [`id${type}`]: id, strArea: area = '', strCategory: category = '',\n    //   strAlcoholic: alcoholicOrNot = '', [`str${type}`]: name,\n    //   [`str${type}Thumb`]: image } = recipe;\n\n    const {\n      id,\n      area,\n      category,\n      alcoholicOrNot,\n      name,\n      image\n    } = recipe;\n    const favType = type.slice(0, 0 - 1);\n    const favObj = {\n      id,\n      area,\n      category,\n      alcoholicOrNot,\n      name,\n      image,\n      type: favType\n    }; // const formatedRecipe = {\n    //   id, area, category, alcoholicOrNot, name, image, type: formatedType };\n\n    if (fav) {\n      dispatch(removeFavorite(favObj));\n    } else dispatch(addFavorite(favObj));\n  };\n\n  useEffect(() => {\n    localStorage.setItem('favoriteRecipes', JSON.stringify(favorite));\n  }, [favorite]);\n  return /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    onClick: handleClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    \"data-testid\": \"favorite-btn\",\n    src: favorite.some(rec => recipe.id === rec.id && type.startsWith(rec.type)) ? BlackFavIcon : FavIcon,\n    alt: \"favorite\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }\n  }));\n}\n\nFavButton.propTypes = {\n  recipe: PropTypes.shape().isRequired,\n  type: PropTypes.string.isRequired\n};\nexport default FavButton;","map":{"version":3,"sources":["/home/alinedebastiani/sd-08-project-recipes-app/src/components/FavButton.jsx"],"names":["React","useEffect","PropTypes","useDispatch","useSelector","addFavorite","removeFavorite","FavButton","type","recipe","favorite","state","recipes","dispatch","handleClick","fav","find","currRec","id","startsWith","area","category","alcoholicOrNot","name","image","favType","slice","favObj","localStorage","setItem","JSON","stringify","some","rec","BlackFavIcon","FavIcon","propTypes","shape","isRequired","string"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,SAASC,WAAT,EAAsBC,cAAtB,QAA4C,oBAA5C;;;;AAIA,SAASC,SAAT,CAAmB;AAAEC,EAAAA,IAAF;AAAQC,EAAAA;AAAR,CAAnB,EAAqC;AACnC,QAAMC,QAAQ,GAAGN,WAAW,CAAEO,KAAD,IAAWA,KAAK,CAACC,OAAN,CAAcF,QAA1B,CAA5B;AACA,QAAMG,QAAQ,GAAGV,WAAW,EAA5B,CAFmC,CAGnC;;AAEA,QAAMW,WAAW,GAAG,MAAM;AACxB,UAAMC,GAAG,GAAGL,QAAQ,CACjBM,IADS,CAEPC,OAAD,IAAaR,MAAM,CAACS,EAAP,KAAcD,OAAO,CAACC,EAAtB,IAA4BV,IAAI,CAACW,UAAL,CAAgBF,OAAO,CAACT,IAAxB,CAFjC,CAAZ,CADwB,CAKxB;AACA;AACA;;AACA,UAAM;AAAEU,MAAAA,EAAF;AAAME,MAAAA,IAAN;AAAYC,MAAAA,QAAZ;AAAsBC,MAAAA,cAAtB;AAAsCC,MAAAA,IAAtC;AAA4CC,MAAAA;AAA5C,QAAsDf,MAA5D;AACA,UAAMgB,OAAO,GAAGjB,IAAI,CAACkB,KAAL,CAAW,CAAX,EAAc,IAAI,CAAlB,CAAhB;AACA,UAAMC,MAAM,GAAG;AAAET,MAAAA,EAAF;AAAME,MAAAA,IAAN;AAAYC,MAAAA,QAAZ;AAAsBC,MAAAA,cAAtB;AAAsCC,MAAAA,IAAtC;AAA4CC,MAAAA,KAA5C;AAAmDhB,MAAAA,IAAI,EAAEiB;AAAzD,KAAf,CAVwB,CAWxB;AACA;;AACA,QAAIV,GAAJ,EAAS;AACPF,MAAAA,QAAQ,CAACP,cAAc,CAACqB,MAAD,CAAf,CAAR;AACD,KAFD,MAEOd,QAAQ,CAACR,WAAW,CAACsB,MAAD,CAAZ,CAAR;AACR,GAhBD;;AAkBA1B,EAAAA,SAAS,CAAC,MAAM;AACd2B,IAAAA,YAAY,CAACC,OAAb,CAAqB,iBAArB,EAAwCC,IAAI,CAACC,SAAL,CAAerB,QAAf,CAAxC;AACD,GAFQ,EAEN,CAACA,QAAD,CAFM,CAAT;AAIA,sBACE;AAAQ,IAAA,IAAI,EAAC,QAAb;AAAsB,IAAA,OAAO,EAAGI,WAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AACE,mBAAY,cADd;AAEE,IAAA,GAAG,EAAGJ,QAAQ,CACXsB,IADG,CACGC,GAAD,IAASxB,MAAM,CAACS,EAAP,KAAce,GAAG,CAACf,EAAlB,IAAwBV,IAAI,CAACW,UAAL,CAAgBc,GAAG,CAACzB,IAApB,CADnC,IAEF0B,YAFE,GAEaC,OAJrB;AAKE,IAAA,GAAG,EAAC,UALN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF;AAWD;;AAED5B,SAAS,CAAC6B,SAAV,GAAsB;AACpB3B,EAAAA,MAAM,EAAEP,SAAS,CAACmC,KAAV,GAAkBC,UADN;AAEpB9B,EAAAA,IAAI,EAAEN,SAAS,CAACqC,MAAV,CAAiBD;AAFH,CAAtB;AAKA,eAAe/B,SAAf","sourcesContent":["import React, { useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { addFavorite, removeFavorite } from '../actions/recipes';\nimport FavIcon from '../images/whiteHeartIcon.svg';\nimport BlackFavIcon from '../images/blackHeartIcon.svg';\n\nfunction FavButton({ type, recipe }) {\n  const favorite = useSelector((state) => state.recipes.favorite);\n  const dispatch = useDispatch();\n  // const formatedType = type === 'Meal' ? 'comida' : 'bebida';\n\n  const handleClick = () => {\n    const fav = favorite\n      .find(\n        (currRec) => recipe.id === currRec.id && type.startsWith(currRec.type),\n      );\n    // const { [`id${type}`]: id, strArea: area = '', strCategory: category = '',\n    //   strAlcoholic: alcoholicOrNot = '', [`str${type}`]: name,\n    //   [`str${type}Thumb`]: image } = recipe;\n    const { id, area, category, alcoholicOrNot, name, image } = recipe;\n    const favType = type.slice(0, 0 - 1);\n    const favObj = { id, area, category, alcoholicOrNot, name, image, type: favType };\n    // const formatedRecipe = {\n    //   id, area, category, alcoholicOrNot, name, image, type: formatedType };\n    if (fav) {\n      dispatch(removeFavorite(favObj));\n    } else dispatch(addFavorite(favObj));\n  };\n\n  useEffect(() => {\n    localStorage.setItem('favoriteRecipes', JSON.stringify(favorite));\n  }, [favorite]);\n\n  return (\n    <button type=\"button\" onClick={ handleClick }>\n      <img\n        data-testid=\"favorite-btn\"\n        src={ favorite\n          .some((rec) => recipe.id === rec.id && type.startsWith(rec.type))\n          ? BlackFavIcon : FavIcon }\n        alt=\"favorite\"\n      />\n    </button>\n  );\n}\n\nFavButton.propTypes = {\n  recipe: PropTypes.shape().isRequired,\n  type: PropTypes.string.isRequired,\n};\n\nexport default FavButton;\n"]},"metadata":{},"sourceType":"module"}