{"ast":null,"code":"import _toConsumableArray from\"/home/alinedebastiani/sd-08-project-recipes-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/home/alinedebastiani/sd-08-project-recipes-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import{Form}from'react-bootstrap';import{useDispatch,useSelector}from'react-redux';import{fetchRecipes,fetchAreas}from'../actions/recipes';import Footer from'../components/Footer';import Header from'../components/Header';import Loading from'../components/Loading';import RecipeCard from'../components/RecipeCard';import'bootstrap/dist/css/bootstrap.min.css';import'./Explore.css';function ExploreOrigin(){var _useSelector=useSelector(function(state){return state.recipes;}),_useSelector$list=_useSelector.list,list=_useSelector$list===void 0?[]:_useSelector$list,isFetching=_useSelector.isFetching,areas=_useSelector.areas;var _useSelector2=useSelector(function(state){return state.login;}),mealsToken=_useSelector2.mealsToken;var dispatch=useDispatch();var _useState=useState(''),_useState2=_slicedToArray(_useState,2),selectArea=_useState2[0],setSelectArea=_useState2[1];useEffect(function(){dispatch(fetchAreas(mealsToken));dispatch(fetchRecipes(mealsToken,'comidas'));},[]);var handleChange=function handleChange(_ref){var target=_ref.target;setSelectArea(target.value);var reqType={request:'filter',key:'a',parameter:target.value};dispatch(fetchRecipes(mealsToken,'comidas',reqType));};if(isFetching||list.lenght===0)return/*#__PURE__*/React.createElement(Loading,null);return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Header,null),/*#__PURE__*/React.createElement(Form,{className:\"form\"},/*#__PURE__*/React.createElement(Form.Group,{controlId:\"select.countryForm\"},/*#__PURE__*/React.createElement(Form.Label,null,\"Selecione o pa\\xEDs:\"),/*#__PURE__*/React.createElement(Form.Control,{as:\"select\",custom:true,\"data-testid\":\"explore-by-area-dropdown\",onChange:handleChange,value:selectArea},areas&&[{strArea:'All'}].concat(_toConsumableArray(areas.meals)).map(function(_ref2){var strArea=_ref2.strArea;return/*#__PURE__*/React.createElement(\"option\",{\"data-testid\":\"\".concat(strArea,\"-option\"),key:strArea,value:strArea},strArea);})))),/*#__PURE__*/React.createElement(\"section\",{className:\"cards-container\"},list&&list.map(function(recipe,index){return/*#__PURE__*/React.createElement(\"div\",{className:\"card-explore\",key:\"recipe-\".concat(index)},/*#__PURE__*/React.createElement(RecipeCard,{type:\"comidas\",index:index,recipe:recipe}));})),/*#__PURE__*/React.createElement(Footer,null));}export default ExploreOrigin;","map":{"version":3,"sources":["/home/alinedebastiani/sd-08-project-recipes-app/src/pages/ExploreOrigin.js"],"names":["React","useEffect","useState","Form","useDispatch","useSelector","fetchRecipes","fetchAreas","Footer","Header","Loading","RecipeCard","ExploreOrigin","state","recipes","list","isFetching","areas","login","mealsToken","dispatch","selectArea","setSelectArea","handleChange","target","value","reqType","request","key","parameter","lenght","strArea","meals","map","recipe","index"],"mappings":"oVAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,OAASC,IAAT,KAAqB,iBAArB,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,OAASC,YAAT,CAAuBC,UAAvB,KAAyC,oBAAzC,CACA,MAAOC,CAAAA,MAAP,KAAmB,sBAAnB,CACA,MAAOC,CAAAA,MAAP,KAAmB,sBAAnB,CACA,MAAOC,CAAAA,OAAP,KAAoB,uBAApB,CACA,MAAOC,CAAAA,UAAP,KAAuB,0BAAvB,CACA,MAAO,sCAAP,CACA,MAAO,eAAP,CAEA,QAASC,CAAAA,aAAT,EAAyB,kBACkBP,WAAW,CAAC,SAACQ,KAAD,QAAWA,CAAAA,KAAK,CAACC,OAAjB,EAAD,CAD7B,gCACfC,IADe,CACfA,IADe,4BACR,EADQ,mBACJC,UADI,cACJA,UADI,CACQC,KADR,cACQA,KADR,mBAEAZ,WAAW,CAAC,SAACQ,KAAD,QAAWA,CAAAA,KAAK,CAACK,KAAjB,EAAD,CAFX,CAEfC,UAFe,eAEfA,UAFe,CAGvB,GAAMC,CAAAA,QAAQ,CAAGhB,WAAW,EAA5B,CAHuB,cAIaF,QAAQ,CAAC,EAAD,CAJrB,wCAIhBmB,UAJgB,eAIJC,aAJI,eAMvBrB,SAAS,CAAC,UAAM,CACdmB,QAAQ,CAACb,UAAU,CAACY,UAAD,CAAX,CAAR,CACAC,QAAQ,CAACd,YAAY,CAACa,UAAD,CAAa,SAAb,CAAb,CAAR,CACD,CAHQ,CAGN,EAHM,CAAT,CAKA,GAAMI,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,MAAgB,IAAbC,CAAAA,MAAa,MAAbA,MAAa,CACnCF,aAAa,CAACE,MAAM,CAACC,KAAR,CAAb,CACA,GAAMC,CAAAA,OAAO,CAAG,CAAEC,OAAO,CAAE,QAAX,CAAqBC,GAAG,CAAE,GAA1B,CAA+BC,SAAS,CAAEL,MAAM,CAACC,KAAjD,CAAhB,CACAL,QAAQ,CAACd,YAAY,CAACa,UAAD,CAAa,SAAb,CAAwBO,OAAxB,CAAb,CAAR,CACD,CAJD,CAKA,GAAIV,UAAU,EAAID,IAAI,CAACe,MAAL,GAAgB,CAAlC,CAAqC,mBAAO,oBAAC,OAAD,MAAP,CACrC,mBACE,qDACE,oBAAC,MAAD,MADF,cAEE,oBAAC,IAAD,EAAM,SAAS,CAAC,MAAhB,eACE,oBAAC,IAAD,CAAM,KAAN,EAAY,SAAS,CAAC,oBAAtB,eACE,oBAAC,IAAD,CAAM,KAAN,6BADF,cAEE,oBAAC,IAAD,CAAM,OAAN,EACE,EAAE,CAAC,QADL,CAEE,MAAM,KAFR,CAGE,cAAY,0BAHd,CAIE,QAAQ,CAAGP,YAJb,CAKE,KAAK,CAAGF,UALV,EAOIJ,KAAK,EAAI,CAAC,CAAEc,OAAO,CAAE,KAAX,CAAD,4BAAwBd,KAAK,CAACe,KAA9B,GAAqCC,GAArC,CAAyC,mBAAGF,CAAAA,OAAH,OAAGA,OAAH,oBAClD,8BACE,wBAAiBA,OAAjB,WADF,CAEE,GAAG,CAAGA,OAFR,CAGE,KAAK,CAAGA,OAHV,EAKIA,OALJ,CADkD,EAAzC,CAPb,CAFF,CADF,CAFF,cAwBE,+BAAS,SAAS,CAAC,iBAAnB,EACIhB,IAAI,EAAIA,IAAI,CAACkB,GAAL,CAAS,SAACC,MAAD,CAASC,KAAT,qBACjB,2BAAK,SAAS,CAAC,cAAf,CAA8B,GAAG,kBAAaA,KAAb,CAAjC,eACE,oBAAC,UAAD,EACE,IAAI,CAAC,SADP,CAEE,KAAK,CAAGA,KAFV,CAGE,MAAM,CAAGD,MAHX,EADF,CADiB,EAAT,CADZ,CAxBF,cAmCE,oBAAC,MAAD,MAnCF,CADF,CAuCD,CAED,cAAetB,CAAAA,aAAf","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { Form } from 'react-bootstrap';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { fetchRecipes, fetchAreas } from '../actions/recipes';\nimport Footer from '../components/Footer';\nimport Header from '../components/Header';\nimport Loading from '../components/Loading';\nimport RecipeCard from '../components/RecipeCard';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './Explore.css';\n\nfunction ExploreOrigin() {\n  const { list = [], isFetching, areas } = useSelector((state) => state.recipes);\n  const { mealsToken } = useSelector((state) => state.login);\n  const dispatch = useDispatch();\n  const [selectArea, setSelectArea] = useState('');\n\n  useEffect(() => {\n    dispatch(fetchAreas(mealsToken));\n    dispatch(fetchRecipes(mealsToken, 'comidas'));\n  }, []);\n\n  const handleChange = ({ target }) => {\n    setSelectArea(target.value);\n    const reqType = { request: 'filter', key: 'a', parameter: target.value };\n    dispatch(fetchRecipes(mealsToken, 'comidas', reqType));\n  };\n  if (isFetching || list.lenght === 0) return <Loading />;\n  return (\n    <>\n      <Header />\n      <Form className=\"form\">\n        <Form.Group controlId=\"select.countryForm\">\n          <Form.Label>Selecione o pa√≠s:</Form.Label>\n          <Form.Control\n            as=\"select\"\n            custom\n            data-testid=\"explore-by-area-dropdown\"\n            onChange={ handleChange }\n            value={ selectArea }\n          >\n            { areas && [{ strArea: 'All' }, ...areas.meals].map(({ strArea }) => (\n              <option\n                data-testid={ `${strArea}-option` }\n                key={ strArea }\n                value={ strArea }\n              >\n                { strArea }\n              </option>\n            )) }\n          </Form.Control>\n        </Form.Group>\n      </Form>\n      <section className=\"cards-container\">\n        { list && list.map((recipe, index) => (\n          <div className=\"card-explore\" key={ `recipe-${index}` }>\n            <RecipeCard\n              type=\"comidas\"\n              index={ index }\n              recipe={ recipe }\n            />\n          </div>\n        ))}\n      </section>\n      <Footer />\n    </>\n  );\n}\n\nexport default ExploreOrigin;\n"]},"metadata":{},"sourceType":"module"}