{"ast":null,"code":"import React,{useEffect}from'react';import{useDispatch,useSelector}from'react-redux';import{addFavorite,removeFavorite}from'../actions/recipes';import FavIcon from\"../images/whiteHeartIcon.svg\";import BlackFavIcon from\"../images/blackHeartIcon.svg\";function FavButton(_ref){var recipe=_ref.recipe,index=_ref.index;var favorite=useSelector(function(state){return state.recipes.favorite;});var dispatch=useDispatch();// const formatedType = type === 'Meal' ? 'comida' : 'bebida';\nvar handleClick=function handleClick(){var fav=favorite.find(function(_ref2){var id=_ref2.id,type=_ref2.type;return recipe.id===id&&type===recipe.type;}// type.startsWith(currRec.type),\n);var id=recipe.id,area=recipe.area,category=recipe.category,alcoholicOrNot=recipe.alcoholicOrNot,name=recipe.name,image=recipe.image,type=recipe.type;var favObj={id:id,area:area,category:category,alcoholicOrNot:alcoholicOrNot,name:name,image:image,type:type};if(fav){dispatch(removeFavorite(favObj));}else dispatch(addFavorite(favObj));};useEffect(function(){localStorage.setItem('favoriteRecipes',JSON.stringify(favorite));},[favorite]);return/*#__PURE__*/React.createElement(\"button\",{type:\"button\",onClick:handleClick},/*#__PURE__*/React.createElement(\"img\",{alt:\"favorite\",\"data-testid\":index!==undefined?\"\".concat(index,\"-horizontal-favorite-btn\"):'favorite-btn',src:favorite.some(function(_ref3){var id=_ref3.id,type=_ref3.type;return recipe.id===id&&type===recipe.type;})// type.startsWith(rec.type))\n?BlackFavIcon:FavIcon,style:{width:'6vw'}}));}export default FavButton;","map":{"version":3,"sources":["/home/alinedebastiani/sd-08-project-recipes-app/src/components/FavButton.jsx"],"names":["React","useEffect","useDispatch","useSelector","addFavorite","removeFavorite","FavButton","recipe","index","favorite","state","recipes","dispatch","handleClick","fav","find","id","type","area","category","alcoholicOrNot","name","image","favObj","localStorage","setItem","JSON","stringify","undefined","some","BlackFavIcon","FavIcon","width"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CAEA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,OAASC,WAAT,CAAsBC,cAAtB,KAA4C,oBAA5C,C,yGAIA,QAASC,CAAAA,SAAT,MACmB,IAAjBC,CAAAA,MAAiB,MAAjBA,MAAiB,CAATC,KAAS,MAATA,KAAS,CACjB,GAAMC,CAAAA,QAAQ,CAAGN,WAAW,CAAC,SAACO,KAAD,QAAWA,CAAAA,KAAK,CAACC,OAAN,CAAcF,QAAzB,EAAD,CAA5B,CACA,GAAMG,CAAAA,QAAQ,CAAGV,WAAW,EAA5B,CACA;AAEA,GAAMW,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAAM,CACxB,GAAMC,CAAAA,GAAG,CAAGL,QAAQ,CACjBM,IADS,CAER,mBAAGC,CAAAA,EAAH,OAAGA,EAAH,CAAOC,IAAP,OAAOA,IAAP,OAAkBV,CAAAA,MAAM,CAACS,EAAP,GAAcA,EAAd,EAAoBC,IAAI,GAAKV,MAAM,CAACU,IAAtD,EAA4D;AAFpD,CAAZ,CADwB,GAKhBD,CAAAA,EALgB,CAK0CT,MAL1C,CAKhBS,EALgB,CAKZE,IALY,CAK0CX,MAL1C,CAKZW,IALY,CAKNC,QALM,CAK0CZ,MAL1C,CAKNY,QALM,CAKIC,cALJ,CAK0Cb,MAL1C,CAKIa,cALJ,CAKoBC,IALpB,CAK0Cd,MAL1C,CAKoBc,IALpB,CAK0BC,KAL1B,CAK0Cf,MAL1C,CAK0Be,KAL1B,CAKiCL,IALjC,CAK0CV,MAL1C,CAKiCU,IALjC,CAMxB,GAAMM,CAAAA,MAAM,CAAG,CAAEP,EAAE,CAAFA,EAAF,CAAME,IAAI,CAAJA,IAAN,CAAYC,QAAQ,CAARA,QAAZ,CAAsBC,cAAc,CAAdA,cAAtB,CAAsCC,IAAI,CAAJA,IAAtC,CAA4CC,KAAK,CAALA,KAA5C,CAAmDL,IAAI,CAAJA,IAAnD,CAAf,CACA,GAAIH,GAAJ,CAAS,CACPF,QAAQ,CAACP,cAAc,CAACkB,MAAD,CAAf,CAAR,CACD,CAFD,IAEOX,CAAAA,QAAQ,CAACR,WAAW,CAACmB,MAAD,CAAZ,CAAR,CACR,CAVD,CAYAtB,SAAS,CAAC,UAAM,CACduB,YAAY,CAACC,OAAb,CAAqB,iBAArB,CAAwCC,IAAI,CAACC,SAAL,CAAelB,QAAf,CAAxC,EACD,CAFQ,CAEN,CAACA,QAAD,CAFM,CAAT,CAIA,mBACE,8BAAQ,IAAI,CAAC,QAAb,CAAsB,OAAO,CAAGI,WAAhC,eACE,2BACE,GAAG,CAAC,UADN,CAEE,cAAcL,KAAK,GAAKoB,SAAV,WACPpB,KADO,6BAC2B,cAH3C,CAIE,GAAG,CAAGC,QAAQ,CACXoB,IADG,CACE,mBAAGb,CAAAA,EAAH,OAAGA,EAAH,CAAOC,IAAP,OAAOA,IAAP,OAAkBV,CAAAA,MAAM,CAACS,EAAP,GAAcA,EAAd,EAAoBC,IAAI,GAAKV,MAAM,CAACU,IAAtD,EADF,CAC8D;AAD9D,CAEFa,YAFE,CAEaC,OANrB,CAOE,KAAK,CAAG,CAAEC,KAAK,CAAE,KAAT,CAPV,EADF,CADF,CAaD,CAQD,cAAe1B,CAAAA,SAAf","sourcesContent":["import React, { useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { addFavorite, removeFavorite } from '../actions/recipes';\nimport FavIcon from '../images/whiteHeartIcon.svg';\nimport BlackFavIcon from '../images/blackHeartIcon.svg';\n\nfunction FavButton({ // type,\n  recipe, index }) {\n  const favorite = useSelector((state) => state.recipes.favorite);\n  const dispatch = useDispatch();\n  // const formatedType = type === 'Meal' ? 'comida' : 'bebida';\n\n  const handleClick = () => {\n    const fav = favorite\n      .find(\n        ({ id, type }) => recipe.id === id && type === recipe.type, // type.startsWith(currRec.type),\n      );\n    const { id, area, category, alcoholicOrNot, name, image, type } = recipe;\n    const favObj = { id, area, category, alcoholicOrNot, name, image, type };\n    if (fav) {\n      dispatch(removeFavorite(favObj));\n    } else dispatch(addFavorite(favObj));\n  };\n\n  useEffect(() => {\n    localStorage.setItem('favoriteRecipes', JSON.stringify(favorite));\n  }, [favorite]);\n\n  return (\n    <button type=\"button\" onClick={ handleClick }>\n      <img\n        alt=\"favorite\"\n        data-testid={ index !== undefined\n          ? `${index}-horizontal-favorite-btn` : 'favorite-btn' }\n        src={ favorite\n          .some(({ id, type }) => recipe.id === id && type === recipe.type) // type.startsWith(rec.type))\n          ? BlackFavIcon : FavIcon }\n        style={ { width: '6vw' } }\n      />\n    </button>\n  );\n}\n\nFavButton.propTypes = {\n  recipe: PropTypes.shape().isRequired,\n  type: PropTypes.string.isRequired,\n  index: PropTypes.number.isRequired,\n};\n\nexport default FavButton;\n"]},"metadata":{},"sourceType":"module"}