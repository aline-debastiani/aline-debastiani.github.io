{"ast":null,"code":"var _jsxFileName = \"/home/alinedebastiani/sd-08-project-recipes-app/src/components/FavButton.jsx\";\nimport React, { useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { addFavorite, removeFavorite } from '../actions/recipes';\nimport FavIcon from \"../images/whiteHeartIcon.svg\";\nimport BlackFavIcon from \"../images/blackHeartIcon.svg\";\n\nfunction FavButton({\n  // type,\n  recipe,\n  index\n}) {\n  const favorite = useSelector(state => state.recipes.favorite);\n  const dispatch = useDispatch(); // const formatedType = type === 'Meal' ? 'comida' : 'bebida';\n\n  const handleClick = () => {\n    const fav = favorite.find(({\n      id,\n      type\n    }) => recipe.id === id && type === recipe.type // type.startsWith(currRec.type),\n    ); // const { [`id${type}`]: id, strArea: area = '', strCategory: category = '',\n    //   strAlcoholic: alcoholicOrNot = '', [`str${type}`]: name,\n    //   [`str${type}Thumb`]: image } = recipe;\n\n    const {\n      id,\n      area,\n      category,\n      alcoholicOrNot,\n      name,\n      image,\n      type\n    } = recipe; // const favType = type.slice(0, 0 - 1);\n\n    const favObj = {\n      id,\n      area,\n      category,\n      alcoholicOrNot,\n      name,\n      image,\n      type\n    }; // const formatedRecipe = {\n    //   id, area, category, alcoholicOrNot, name, image, type: formatedType };\n\n    if (fav) {\n      dispatch(removeFavorite(favObj));\n    } else dispatch(addFavorite(favObj));\n  };\n\n  useEffect(() => {\n    localStorage.setItem('favoriteRecipes', JSON.stringify(favorite));\n  }, [favorite]);\n  return /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    onClick: handleClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    \"data-testid\": index !== undefined ? `${index}-horizontal-favorite-btn` : 'favorite-btn',\n    src: favorite.some(({\n      id,\n      type\n    }) => recipe.id === id && type === recipe.type) // type.startsWith(rec.type))\n    ? BlackFavIcon : FavIcon,\n    alt: \"favorite\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }\n  }));\n}\n\nFavButton.propTypes = {\n  recipe: PropTypes.shape().isRequired,\n  type: PropTypes.string.isRequired,\n  index: PropTypes.number.isRequired\n};\nexport default FavButton;","map":{"version":3,"sources":["/home/alinedebastiani/sd-08-project-recipes-app/src/components/FavButton.jsx"],"names":["React","useEffect","PropTypes","useDispatch","useSelector","addFavorite","removeFavorite","FavButton","recipe","index","favorite","state","recipes","dispatch","handleClick","fav","find","id","type","area","category","alcoholicOrNot","name","image","favObj","localStorage","setItem","JSON","stringify","undefined","some","BlackFavIcon","FavIcon","propTypes","shape","isRequired","string","number"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,SAASC,WAAT,EAAsBC,cAAtB,QAA4C,oBAA5C;;;;AAIA,SAASC,SAAT,CAAmB;AAAE;AACnBC,EAAAA,MADiB;AACTC,EAAAA;AADS,CAAnB,EACmB;AACjB,QAAMC,QAAQ,GAAGN,WAAW,CAAEO,KAAD,IAAWA,KAAK,CAACC,OAAN,CAAcF,QAA1B,CAA5B;AACA,QAAMG,QAAQ,GAAGV,WAAW,EAA5B,CAFiB,CAGjB;;AAEA,QAAMW,WAAW,GAAG,MAAM;AACxB,UAAMC,GAAG,GAAGL,QAAQ,CACjBM,IADS,CAER,CAAC;AAAEC,MAAAA,EAAF;AAAMC,MAAAA;AAAN,KAAD,KAAkBV,MAAM,CAACS,EAAP,KAAcA,EAAd,IAAoBC,IAAI,KAAKV,MAAM,CAACU,IAF9C,CAEoD;AAFpD,KAAZ,CADwB,CAKxB;AACA;AACA;;AACA,UAAM;AAAED,MAAAA,EAAF;AAAME,MAAAA,IAAN;AAAYC,MAAAA,QAAZ;AAAsBC,MAAAA,cAAtB;AAAsCC,MAAAA,IAAtC;AAA4CC,MAAAA,KAA5C;AAAmDL,MAAAA;AAAnD,QAA4DV,MAAlE,CARwB,CASxB;;AACA,UAAMgB,MAAM,GAAG;AAAEP,MAAAA,EAAF;AAAME,MAAAA,IAAN;AAAYC,MAAAA,QAAZ;AAAsBC,MAAAA,cAAtB;AAAsCC,MAAAA,IAAtC;AAA4CC,MAAAA,KAA5C;AAAmDL,MAAAA;AAAnD,KAAf,CAVwB,CAWxB;AACA;;AACA,QAAIH,GAAJ,EAAS;AACPF,MAAAA,QAAQ,CAACP,cAAc,CAACkB,MAAD,CAAf,CAAR;AACD,KAFD,MAEOX,QAAQ,CAACR,WAAW,CAACmB,MAAD,CAAZ,CAAR;AACR,GAhBD;;AAkBAvB,EAAAA,SAAS,CAAC,MAAM;AACdwB,IAAAA,YAAY,CAACC,OAAb,CAAqB,iBAArB,EAAwCC,IAAI,CAACC,SAAL,CAAelB,QAAf,CAAxC;AACD,GAFQ,EAEN,CAACA,QAAD,CAFM,CAAT;AAIA,sBACE;AAAQ,IAAA,IAAI,EAAC,QAAb;AAAsB,IAAA,OAAO,EAAGI,WAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AACE,mBAAcL,KAAK,KAAKoB,SAAV,GACT,GAAEpB,KAAM,0BADC,GAC2B,cAF3C;AAGE,IAAA,GAAG,EAAGC,QAAQ,CACXoB,IADG,CACE,CAAC;AAAEb,MAAAA,EAAF;AAAMC,MAAAA;AAAN,KAAD,KAAkBV,MAAM,CAACS,EAAP,KAAcA,EAAd,IAAoBC,IAAI,KAAKV,MAAM,CAACU,IADxD,EAC8D;AAD9D,MAEFa,YAFE,GAEaC,OALrB;AAME,IAAA,GAAG,EAAC,UANN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF;AAYD;;AAEDzB,SAAS,CAAC0B,SAAV,GAAsB;AACpBzB,EAAAA,MAAM,EAAEN,SAAS,CAACgC,KAAV,GAAkBC,UADN;AAEpBjB,EAAAA,IAAI,EAAEhB,SAAS,CAACkC,MAAV,CAAiBD,UAFH;AAGpB1B,EAAAA,KAAK,EAAEP,SAAS,CAACmC,MAAV,CAAiBF;AAHJ,CAAtB;AAMA,eAAe5B,SAAf","sourcesContent":["import React, { useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { addFavorite, removeFavorite } from '../actions/recipes';\nimport FavIcon from '../images/whiteHeartIcon.svg';\nimport BlackFavIcon from '../images/blackHeartIcon.svg';\n\nfunction FavButton({ // type,\n  recipe, index }) {\n  const favorite = useSelector((state) => state.recipes.favorite);\n  const dispatch = useDispatch();\n  // const formatedType = type === 'Meal' ? 'comida' : 'bebida';\n\n  const handleClick = () => {\n    const fav = favorite\n      .find(\n        ({ id, type }) => recipe.id === id && type === recipe.type, // type.startsWith(currRec.type),\n      );\n    // const { [`id${type}`]: id, strArea: area = '', strCategory: category = '',\n    //   strAlcoholic: alcoholicOrNot = '', [`str${type}`]: name,\n    //   [`str${type}Thumb`]: image } = recipe;\n    const { id, area, category, alcoholicOrNot, name, image, type } = recipe;\n    // const favType = type.slice(0, 0 - 1);\n    const favObj = { id, area, category, alcoholicOrNot, name, image, type };\n    // const formatedRecipe = {\n    //   id, area, category, alcoholicOrNot, name, image, type: formatedType };\n    if (fav) {\n      dispatch(removeFavorite(favObj));\n    } else dispatch(addFavorite(favObj));\n  };\n\n  useEffect(() => {\n    localStorage.setItem('favoriteRecipes', JSON.stringify(favorite));\n  }, [favorite]);\n\n  return (\n    <button type=\"button\" onClick={ handleClick }>\n      <img\n        data-testid={ index !== undefined\n          ? `${index}-horizontal-favorite-btn` : 'favorite-btn' }\n        src={ favorite\n          .some(({ id, type }) => recipe.id === id && type === recipe.type) // type.startsWith(rec.type))\n          ? BlackFavIcon : FavIcon }\n        alt=\"favorite\"\n      />\n    </button>\n  );\n}\n\nFavButton.propTypes = {\n  recipe: PropTypes.shape().isRequired,\n  type: PropTypes.string.isRequired,\n  index: PropTypes.number.isRequired,\n};\n\nexport default FavButton;\n"]},"metadata":{},"sourceType":"module"}