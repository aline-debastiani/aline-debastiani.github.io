{"ast":null,"code":"var _jsxFileName = \"/home/alinedebastiani/sd-08-project-recipes-app/src/pages/ExploreIngredients.js\";\nimport React, { useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Redirect } from 'react-router-dom';\nimport Loading from '../components/Loading';\nimport Footer from '../components/Footer';\nimport Header from '../components/Header';\nimport { byAddIngredient, fetchRecipes } from '../actions/recipes';\n\nfunction ExploreIngredients({\n  location: {\n    pathname\n  }\n}) {\n  const type = pathname.split('/')[2];\n  const {\n    mealsToken,\n    cocktailsToken\n  } = useSelector(state => state.login);\n  const {\n    list = [],\n    isFetching\n  } = useSelector(state => state.recipes);\n  const dispatch = useDispatch();\n  const [shouldRedirect, setShouldRedirect] = useState(false);\n  useEffect(() => {\n    const reqType = {\n      request: 'list',\n      key: 'i',\n      parameter: 'list'\n    };\n    const token = type === 'comidas' ? mealsToken : cocktailsToken;\n    dispatch(fetchRecipes(token, type, reqType));\n  }, []);\n\n  const handleClick = ingredient => {\n    setShouldRedirect(true);\n    dispatch(byAddIngredient(ingredient));\n  };\n\n  if (isFetching) return /*#__PURE__*/React.createElement(Loading, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 27\n    }\n  });\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 7\n    }\n  }), type === 'comidas' ? list.map(({\n    idIngredient,\n    strIngredient\n  }, index) => {\n    const url = `https://www.themealdb.com/images/ingredients/${strIngredient}-Small.png`;\n    return /*#__PURE__*/React.createElement(\"button\", {\n      \"data-testid\": `${index}-ingredient-card`,\n      key: idIngredient,\n      onClick: () => handleClick(strIngredient),\n      type: \"button\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      alt: `ingredient ${idIngredient}`,\n      \"data-testid\": `${index}-card-img`,\n      src: url,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      \"data-testid\": `${index}-card-name`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 15\n      }\n    }, strIngredient));\n  }) : list.map(({\n    strIngredient1\n  }, index) => {\n    const url = `https://www.thecocktaildb.com/images/ingredients/${strIngredient1}-Small.png`;\n    return /*#__PURE__*/React.createElement(\"button\", {\n      \"data-testid\": `${index}-ingredient-card`,\n      key: strIngredient1,\n      onClick: () => handleClick(strIngredient1),\n      type: \"button\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      alt: `ingredient ${strIngredient1}`,\n      \"data-testid\": `${index}-card-img`,\n      src: url,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      \"data-testid\": `${index}-card-name`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 15\n      }\n    }, strIngredient1));\n  }), shouldRedirect && /*#__PURE__*/React.createElement(Redirect, {\n    to: `../../${type}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 27\n    }\n  }), /*#__PURE__*/React.createElement(Footer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }\n  }));\n}\n\nExploreIngredients.propTypes = {\n  location: PropTypes.shape({\n    pathname: PropTypes.string.isRequired\n  }).isRequired\n};\nexport default ExploreIngredients;","map":{"version":3,"sources":["/home/alinedebastiani/sd-08-project-recipes-app/src/pages/ExploreIngredients.js"],"names":["React","useEffect","useState","PropTypes","useDispatch","useSelector","Redirect","Loading","Footer","Header","byAddIngredient","fetchRecipes","ExploreIngredients","location","pathname","type","split","mealsToken","cocktailsToken","state","login","list","isFetching","recipes","dispatch","shouldRedirect","setShouldRedirect","reqType","request","key","parameter","token","handleClick","ingredient","map","idIngredient","strIngredient","index","url","strIngredient1","propTypes","shape","string","isRequired"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Redirect } from 'react-router-dom';\nimport Loading from '../components/Loading';\nimport Footer from '../components/Footer';\nimport Header from '../components/Header';\nimport { byAddIngredient, fetchRecipes } from '../actions/recipes';\n\nfunction ExploreIngredients({ location: { pathname } }) {\n  const type = pathname.split('/')[2];\n  const { mealsToken, cocktailsToken } = useSelector((state) => state.login);\n  const { list = [], isFetching } = useSelector((state) => state.recipes);\n  const dispatch = useDispatch();\n  const [shouldRedirect, setShouldRedirect] = useState(false);\n\n  useEffect(() => {\n    const reqType = { request: 'list', key: 'i', parameter: 'list' };\n    const token = type === 'comidas' ? mealsToken : cocktailsToken;\n    dispatch(fetchRecipes(token, type, reqType));\n  }, []);\n\n  const handleClick = (ingredient) => {\n    setShouldRedirect(true);\n    dispatch(byAddIngredient(ingredient));\n  };\n\n  if (isFetching) return (<Loading />);\n  return (\n    <>\n      <Header />\n      { type === 'comidas'\n        ? list.map(({ idIngredient, strIngredient }, index) => {\n          const url = `https://www.themealdb.com/images/ingredients/${strIngredient}-Small.png`;\n          return (\n            <button\n              data-testid={ `${index}-ingredient-card` }\n              key={ idIngredient }\n              onClick={ () => handleClick(strIngredient) }\n              type=\"button\"\n            >\n              <img\n                alt={ `ingredient ${idIngredient}` }\n                data-testid={ `${index}-card-img` }\n                src={ url }\n              />\n              <p data-testid={ `${index}-card-name` }>{ strIngredient }</p>\n            </button>\n          );\n        })\n        : list.map(({ strIngredient1 }, index) => {\n          const url = `https://www.thecocktaildb.com/images/ingredients/${strIngredient1}-Small.png`;\n          return (\n            <button\n              data-testid={ `${index}-ingredient-card` }\n              key={ strIngredient1 }\n              onClick={ () => handleClick(strIngredient1) }\n              type=\"button\"\n            >\n              <img\n                alt={ `ingredient ${strIngredient1}` }\n                data-testid={ `${index}-card-img` }\n                src={ url }\n              />\n              <p data-testid={ `${index}-card-name` }>{ strIngredient1 }</p>\n            </button>\n          );\n        }) }\n      { shouldRedirect && <Redirect to={ `../../${type}` } /> }\n      <Footer />\n    </>\n  );\n}\n\nExploreIngredients.propTypes = {\n  location: PropTypes.shape({\n    pathname: PropTypes.string.isRequired,\n  }).isRequired,\n};\n\nexport default ExploreIngredients;\n"]},"metadata":{},"sourceType":"module"}