{"ast":null,"code":"import _slicedToArray from\"/home/alinedebastiani/sd-08-project-recipes-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useRef,useState}from'react';import{Link,Redirect}from'react-router-dom';import{useDispatch,useSelector}from'react-redux';import{Button}from'react-bootstrap';import Footer from'../components/Footer';import Header from'../components/Header';import{fetchRecipes}from'../actions/recipes';import'bootstrap/dist/css/bootstrap.min.css';import'./Explore.css';function ExploreMain(_ref){var pathname=_ref.location.pathname;var type=pathname.split('/')[2];var _useSelector=useSelector(function(state){return state.login;}),mealsToken=_useSelector.mealsToken,cocktailsToken=_useSelector.cocktailsToken;var _useSelector2=useSelector(function(state){return state.recipes;}),list=_useSelector2.list;var dispatch=useDispatch();var _useState=useState(''),_useState2=_slicedToArray(_useState,2),id=_useState2[0],setId=_useState2[1];var prevList=useRef(list);var handleClick=function handleClick(){var token=type==='comidas'?mealsToken:cocktailsToken;dispatch(fetchRecipes(token,type,{request:'random',key:''}));};useEffect(function(){if(list!==prevList.current){setId(list[0].id);}return function(){return setId('');};},[list]);return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Header,null),/*#__PURE__*/React.createElement(\"section\",{className:\"explore-button\"},/*#__PURE__*/React.createElement(Link,{\"data-testid\":\"explore-by-ingredient\",to:\"\".concat(pathname,\"/ingredientes\")},/*#__PURE__*/React.createElement(Button,{block:true,className:\"custom-btn-explore\",variant:\"primary\"},\"Por Ingredientes\")),type==='comidas'&&/*#__PURE__*/React.createElement(Link,{\"data-testid\":\"explore-by-area\",to:\"\".concat(pathname,\"/area\")},/*#__PURE__*/React.createElement(Button,{block:true,className:\"custom-btn-explore\",variant:\"primary\"},\"Por Local de Origem\")),/*#__PURE__*/React.createElement(\"div\",{className:\"surprise-me\"},/*#__PURE__*/React.createElement(Button,{block:true,className:\"custom-btn-explore\",\"data-testid\":\"explore-surprise\",onClick:handleClick,type:\"button\",variant:\"primary\"},\"Me Surpreenda!\")),id&&/*#__PURE__*/React.createElement(Redirect,{to:\"../\".concat(type,\"/\").concat(id)})),/*#__PURE__*/React.createElement(Footer,null));}export default ExploreMain;","map":{"version":3,"sources":["/home/alinedebastiani/sd-08-project-recipes-app/src/pages/ExploreMain.js"],"names":["React","useEffect","useRef","useState","Link","Redirect","useDispatch","useSelector","Button","Footer","Header","fetchRecipes","ExploreMain","pathname","location","type","split","state","login","mealsToken","cocktailsToken","recipes","list","dispatch","id","setId","prevList","handleClick","token","request","key","current"],"mappings":"sKAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,MAA3B,CAAmCC,QAAnC,KAAmD,OAAnD,CAEA,OAASC,IAAT,CAAeC,QAAf,KAA+B,kBAA/B,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,OAASC,MAAT,KAAuB,iBAAvB,CACA,MAAOC,CAAAA,MAAP,KAAmB,sBAAnB,CACA,MAAOC,CAAAA,MAAP,KAAmB,sBAAnB,CACA,OAASC,YAAT,KAA6B,oBAA7B,CACA,MAAO,sCAAP,CACA,MAAO,eAAP,CAEA,QAASC,CAAAA,WAAT,MAAiD,IAAdC,CAAAA,QAAc,MAA1BC,QAA0B,CAAdD,QAAc,CAC/C,GAAME,CAAAA,IAAI,CAAGF,QAAQ,CAACG,KAAT,CAAe,GAAf,EAAoB,CAApB,CAAb,CAD+C,iBAERT,WAAW,CAAC,SAACU,KAAD,QAAWA,CAAAA,KAAK,CAACC,KAAjB,EAAD,CAFH,CAEvCC,UAFuC,cAEvCA,UAFuC,CAE3BC,cAF2B,cAE3BA,cAF2B,mBAG9Bb,WAAW,CAAC,SAACU,KAAD,QAAWA,CAAAA,KAAK,CAACI,OAAjB,EAAD,CAHmB,CAGvCC,IAHuC,eAGvCA,IAHuC,CAI/C,GAAMC,CAAAA,QAAQ,CAAGjB,WAAW,EAA5B,CAJ+C,cAK3BH,QAAQ,CAAC,EAAD,CALmB,wCAKxCqB,EALwC,eAKpCC,KALoC,eAM/C,GAAMC,CAAAA,QAAQ,CAAGxB,MAAM,CAACoB,IAAD,CAAvB,CAEA,GAAMK,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAAM,CACxB,GAAMC,CAAAA,KAAK,CAAGb,IAAI,GAAK,SAAT,CAAqBI,UAArB,CAAkCC,cAAhD,CACAG,QAAQ,CAACZ,YAAY,CAACiB,KAAD,CAAQb,IAAR,CAAc,CAAEc,OAAO,CAAE,QAAX,CAAqBC,GAAG,CAAE,EAA1B,CAAd,CAAb,CAAR,CACD,CAHD,CAKA7B,SAAS,CAAC,UAAM,CACd,GAAIqB,IAAI,GAAKI,QAAQ,CAACK,OAAtB,CAA+B,CAC7BN,KAAK,CAACH,IAAI,CAAC,CAAD,CAAJ,CAAQE,EAAT,CAAL,CACD,CACD,MAAO,kBAAMC,CAAAA,KAAK,CAAC,EAAD,CAAX,EAAP,CACD,CALQ,CAKN,CAACH,IAAD,CALM,CAAT,CAOA,mBACE,qDACE,oBAAC,MAAD,MADF,cAEE,+BAAS,SAAS,CAAC,gBAAnB,eACE,oBAAC,IAAD,EACE,cAAY,uBADd,CAEE,EAAE,WAAMT,QAAN,iBAFJ,eAIE,oBAAC,MAAD,EACE,KAAK,KADP,CAEE,SAAS,CAAC,oBAFZ,CAGE,OAAO,CAAC,SAHV,qBAJF,CADF,CAaKE,IAAI,GAAK,SAAV,eACA,oBAAC,IAAD,EACE,cAAY,iBADd,CAEE,EAAE,WAAMF,QAAN,SAFJ,eAIE,oBAAC,MAAD,EACE,KAAK,KADP,CAEE,SAAS,CAAC,oBAFZ,CAGE,OAAO,CAAC,SAHV,wBAJF,CAdJ,cA0BE,2BAAK,SAAS,CAAC,aAAf,eACE,oBAAC,MAAD,EACE,KAAK,KADP,CAEE,SAAS,CAAC,oBAFZ,CAGE,cAAY,kBAHd,CAIE,OAAO,CAAGc,WAJZ,CAKE,IAAI,CAAC,QALP,CAME,OAAO,CAAC,SANV,mBADF,CA1BF,CAsCIH,EAAE,eAAI,oBAAC,QAAD,EAAU,EAAE,cAAST,IAAT,aAAiBS,EAAjB,CAAZ,EAtCV,CAFF,cA0CE,oBAAC,MAAD,MA1CF,CADF,CA8CD,CAOD,cAAeZ,CAAAA,WAAf","sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { Link, Redirect } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Button } from 'react-bootstrap';\nimport Footer from '../components/Footer';\nimport Header from '../components/Header';\nimport { fetchRecipes } from '../actions/recipes';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './Explore.css';\n\nfunction ExploreMain({ location: { pathname } }) {\n  const type = pathname.split('/')[2];\n  const { mealsToken, cocktailsToken } = useSelector((state) => state.login);\n  const { list } = useSelector((state) => state.recipes);\n  const dispatch = useDispatch();\n  const [id, setId] = useState('');\n  const prevList = useRef(list);\n\n  const handleClick = () => {\n    const token = type === 'comidas' ? mealsToken : cocktailsToken;\n    dispatch(fetchRecipes(token, type, { request: 'random', key: '' }));\n  };\n\n  useEffect(() => {\n    if (list !== prevList.current) {\n      setId(list[0].id);\n    }\n    return () => setId('');\n  }, [list]);\n\n  return (\n    <>\n      <Header />\n      <section className=\"explore-button\">\n        <Link\n          data-testid=\"explore-by-ingredient\"\n          to={ `${pathname}/ingredientes` }\n        >\n          <Button\n            block\n            className=\"custom-btn-explore\"\n            variant=\"primary\"\n          >\n            Por Ingredientes\n          </Button>\n        </Link>\n        { (type === 'comidas') && (\n          <Link\n            data-testid=\"explore-by-area\"\n            to={ `${pathname}/area` }\n          >\n            <Button\n              block\n              className=\"custom-btn-explore\"\n              variant=\"primary\"\n            >\n              Por Local de Origem\n            </Button>\n          </Link>) }\n        <div className=\"surprise-me\">\n          <Button\n            block\n            className=\"custom-btn-explore\"\n            data-testid=\"explore-surprise\"\n            onClick={ handleClick }\n            type=\"button\"\n            variant=\"primary\"\n          >\n            Me Surpreenda!\n          </Button>\n        </div>\n        { id && <Redirect to={ `../${type}/${id}` } /> }\n      </section>\n      <Footer />\n    </>\n  );\n}\nExploreMain.propTypes = {\n  location: PropTypes.shape({\n    pathname: PropTypes.string.isRequired,\n  }).isRequired,\n};\n\nexport default ExploreMain;\n"]},"metadata":{},"sourceType":"module"}