{"ast":null,"code":"import _toConsumableArray from\"/home/alinedebastiani/sd-08-project-recipes-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _defineProperty from\"/home/alinedebastiani/sd-08-project-recipes-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/home/alinedebastiani/sd-08-project-recipes-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import{ADD_CATEGORIES,ADD_FAVORITE,ADD_FILTER,ADD_RECIPES,ADD_RECOMMENDATIONS,END_RECIPE,REQUEST_RECIPES,RM_FAVORITE,START_RECIPE,ADD_BYINGREDIENT,ADD_COUNTRIES}from'../actions';var inProgressRecipes=JSON.parse(localStorage.getItem('inProgressRecipes')||'{}');var favoriteRecipes=JSON.parse(localStorage.getItem('favoriteRecipes')||'[]');var doneRecipes=JSON.parse(localStorage.getItem('doneRecipes')||'[]');var INITIAL_STATE={list:[],isFetching:true,categories:[],filter:'',recommendations:[],start:{comidas:inProgressRecipes.meals||{},bebidas:inProgressRecipes.cocktails||{}},done:doneRecipes,favorite:favoriteRecipes,byIngredient:'',areas:{meals:[]}};var MAX_RECIPES=12;var MAX_RECOMMENDATIONS=6;var recipes=function recipes(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:INITIAL_STATE;var action=arguments.length>1?arguments[1]:undefined;var doneDate=new Date();switch(action.type){case REQUEST_RECIPES:return _objectSpread(_objectSpread({},state),{},{isFetching:true});case ADD_RECIPES:return _objectSpread(_objectSpread({},state),{},{isFetching:false,list:action.payload.slice(0,MAX_RECIPES)});case ADD_CATEGORIES:return _objectSpread(_objectSpread({},state),{},{categories:action.payload});case ADD_FILTER:return _objectSpread(_objectSpread({},state),{},{filter:action.payload});case ADD_RECOMMENDATIONS:return _objectSpread(_objectSpread({},state),{},{recommendations:action.payload.slice(0,MAX_RECOMMENDATIONS)});case START_RECIPE:return _objectSpread(_objectSpread({},state),{},{start:_objectSpread(_objectSpread({},state.start),{},_defineProperty({},action.selectedType,_objectSpread(_objectSpread({},state.start[action.selectedType]),action.payload)))});case END_RECIPE:return _objectSpread(_objectSpread({},state),{},{done:[].concat(_toConsumableArray(state.done),[_objectSpread(_objectSpread({},action.payload),{},{doneDate:doneDate.toLocaleDateString('pt-Br')})])});case ADD_FAVORITE:return _objectSpread(_objectSpread({},state),{},{favorite:[].concat(_toConsumableArray(state.favorite),[action.payload])});case RM_FAVORITE:return _objectSpread(_objectSpread({},state),{},{favorite:_toConsumableArray(state.favorite.filter(function(_ref){var id=_ref.id,type=_ref.type;return id!==action.payload.id||type!==action.payload.type;}))});case ADD_BYINGREDIENT:return _objectSpread(_objectSpread({},state),{},{byIngredient:action.payload});case ADD_COUNTRIES:return _objectSpread(_objectSpread({},state),{},{areas:action.payload});default:return state;}};export default recipes;","map":{"version":3,"sources":["/home/alinedebastiani/sd-08-project-recipes-app/src/reducers/recipes.js"],"names":["ADD_CATEGORIES","ADD_FAVORITE","ADD_FILTER","ADD_RECIPES","ADD_RECOMMENDATIONS","END_RECIPE","REQUEST_RECIPES","RM_FAVORITE","START_RECIPE","ADD_BYINGREDIENT","ADD_COUNTRIES","inProgressRecipes","JSON","parse","localStorage","getItem","favoriteRecipes","doneRecipes","INITIAL_STATE","list","isFetching","categories","filter","recommendations","start","comidas","meals","bebidas","cocktails","done","favorite","byIngredient","areas","MAX_RECIPES","MAX_RECOMMENDATIONS","recipes","state","action","doneDate","Date","type","payload","slice","selectedType","toLocaleDateString","id"],"mappings":"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","sourcesContent":["import { ADD_CATEGORIES, ADD_FAVORITE, ADD_FILTER, ADD_RECIPES,\n  ADD_RECOMMENDATIONS, END_RECIPE, REQUEST_RECIPES, RM_FAVORITE,\n  START_RECIPE, ADD_BYINGREDIENT, ADD_COUNTRIES } from '../actions';\n\nconst inProgressRecipes = JSON.parse(localStorage.getItem('inProgressRecipes') || '{}');\nconst favoriteRecipes = JSON.parse(localStorage.getItem('favoriteRecipes') || '[]');\nconst doneRecipes = JSON.parse(localStorage.getItem('doneRecipes') || '[]');\n\nconst INITIAL_STATE = {\n  list: [],\n  isFetching: true,\n  categories: [],\n  filter: '',\n  recommendations: [],\n  start: { comidas: inProgressRecipes.meals || {},\n    bebidas: inProgressRecipes.cocktails || {} },\n  done: doneRecipes,\n  favorite: favoriteRecipes,\n  byIngredient: '',\n  areas: { meals: [] },\n};\n\nconst MAX_RECIPES = 12;\nconst MAX_RECOMMENDATIONS = 6;\n\nconst recipes = (state = INITIAL_STATE, action) => {\n  const doneDate = new Date();\n  switch (action.type) {\n  case REQUEST_RECIPES:\n    return { ...state, isFetching: true };\n  case ADD_RECIPES:\n    return { ...state, isFetching: false, list: action.payload.slice(0, MAX_RECIPES) };\n  case ADD_CATEGORIES:\n    return { ...state, categories: action.payload };\n  case ADD_FILTER:\n    return { ...state, filter: action.payload };\n  case ADD_RECOMMENDATIONS:\n    return { ...state, recommendations: action.payload.slice(0, MAX_RECOMMENDATIONS) };\n  case START_RECIPE:\n    return { ...state,\n      start: { ...state.start,\n        [action.selectedType]:\n          { ...state.start[action.selectedType], ...action.payload } } };\n  case END_RECIPE:\n    return { ...state,\n      done: [...state.done,\n        { ...action.payload, doneDate: doneDate.toLocaleDateString('pt-Br') }] };\n  case ADD_FAVORITE:\n    return { ...state, favorite: [...state.favorite, action.payload] };\n  case RM_FAVORITE:\n    return { ...state,\n      favorite: [...state.favorite\n        .filter(({ id, type }) => id !== action.payload.id\n          || type !== action.payload.type)] };\n  case ADD_BYINGREDIENT:\n    return { ...state, byIngredient: action.payload };\n  case ADD_COUNTRIES:\n    return { ...state, areas: action.payload };\n  default:\n    return state;\n  }\n};\n\nexport default recipes;\n"]},"metadata":{},"sourceType":"module"}