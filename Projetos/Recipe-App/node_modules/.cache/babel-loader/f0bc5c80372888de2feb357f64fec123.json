{"ast":null,"code":"var _jsxFileName = \"/home/alinedebastiani/sd-08-project-recipes-app/src/components/CategoryButton.jsx\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Button } from 'react-bootstrap';\nimport { useLocation } from 'react-router';\nimport { fetchRecipes } from '../actions/recipes';\n\nfunction CategoryButton({\n  name,\n  type\n}) {\n  const selectedFilter = useSelector(state => state.recipes.filter);\n  const dispatch = useDispatch();\n  const {\n    pathname\n  } = useLocation();\n  const {\n    mealsToken,\n    cocktailsToken\n  } = useSelector(state => state.login);\n\n  const click = category => {\n    const reqType = {\n      request: 'filter',\n      key: 'c',\n      parameter: category\n    };\n    const token = pathname === 'comidas' ? mealsToken : cocktailsToken;\n\n    if (selectedFilter === category || category === 'All') {\n      dispatch(fetchRecipes(token, type));\n    } else dispatch(fetchRecipes(token, type, reqType));\n  };\n\n  return /*#__PURE__*/React.createElement(Button, {\n    className: \"custom-btn\",\n    \"data-testid\": `${name}-category-filter`,\n    onClick: () => click(name),\n    size: \"sm\",\n    type: \"button\",\n    variant: \"primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 5\n    }\n  }, name);\n}\n\nCategoryButton.propTypes = {\n  name: PropTypes.string.isRequired,\n  type: PropTypes.string.isRequired\n};\nexport default CategoryButton;","map":{"version":3,"sources":["/home/alinedebastiani/sd-08-project-recipes-app/src/components/CategoryButton.jsx"],"names":["React","PropTypes","useDispatch","useSelector","Button","useLocation","fetchRecipes","CategoryButton","name","type","selectedFilter","state","recipes","filter","dispatch","pathname","mealsToken","cocktailsToken","login","click","category","reqType","request","key","parameter","token","propTypes","string","isRequired"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,SAASC,MAAT,QAAuB,iBAAvB;AACA,SAASC,WAAT,QAA4B,cAA5B;AACA,SAASC,YAAT,QAA6B,oBAA7B;;AAEA,SAASC,cAAT,CAAwB;AAAEC,EAAAA,IAAF;AAAQC,EAAAA;AAAR,CAAxB,EAAwC;AACtC,QAAMC,cAAc,GAAGP,WAAW,CAAEQ,KAAD,IAAWA,KAAK,CAACC,OAAN,CAAcC,MAA1B,CAAlC;AACA,QAAMC,QAAQ,GAAGZ,WAAW,EAA5B;AACA,QAAM;AAAEa,IAAAA;AAAF,MAAeV,WAAW,EAAhC;AAEA,QAAM;AAAEW,IAAAA,UAAF;AAAcC,IAAAA;AAAd,MAAiCd,WAAW,CAAEQ,KAAD,IAAWA,KAAK,CAACO,KAAlB,CAAlD;;AAEA,QAAMC,KAAK,GAAIC,QAAD,IAAc;AAC1B,UAAMC,OAAO,GAAG;AAAEC,MAAAA,OAAO,EAAE,QAAX;AAAqBC,MAAAA,GAAG,EAAE,GAA1B;AAA+BC,MAAAA,SAAS,EAAEJ;AAA1C,KAAhB;AACA,UAAMK,KAAK,GAAGV,QAAQ,KAAK,SAAb,GAAyBC,UAAzB,GAAsCC,cAApD;;AACA,QAAIP,cAAc,KAAKU,QAAnB,IAA+BA,QAAQ,KAAK,KAAhD,EAAuD;AACrDN,MAAAA,QAAQ,CAACR,YAAY,CAACmB,KAAD,EAAQhB,IAAR,CAAb,CAAR;AACD,KAFD,MAEOK,QAAQ,CAACR,YAAY,CAACmB,KAAD,EAAQhB,IAAR,EAAcY,OAAd,CAAb,CAAR;AACR,GAND;;AAQA,sBACE,oBAAC,MAAD;AACE,IAAA,SAAS,EAAC,YADZ;AAEE,mBAAe,GAAEb,IAAK,kBAFxB;AAGE,IAAA,OAAO,EAAG,MAAMW,KAAK,CAACX,IAAD,CAHvB;AAIE,IAAA,IAAI,EAAC,IAJP;AAKE,IAAA,IAAI,EAAC,QALP;AAME,IAAA,OAAO,EAAC,SANV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAQGA,IARH,CADF;AAYD;;AAEDD,cAAc,CAACmB,SAAf,GAA2B;AACzBlB,EAAAA,IAAI,EAAEP,SAAS,CAAC0B,MAAV,CAAiBC,UADE;AAEzBnB,EAAAA,IAAI,EAAER,SAAS,CAAC0B,MAAV,CAAiBC;AAFE,CAA3B;AAKA,eAAerB,cAAf","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Button } from 'react-bootstrap';\nimport { useLocation } from 'react-router';\nimport { fetchRecipes } from '../actions/recipes';\n\nfunction CategoryButton({ name, type }) {\n  const selectedFilter = useSelector((state) => state.recipes.filter);\n  const dispatch = useDispatch();\n  const { pathname } = useLocation();\n\n  const { mealsToken, cocktailsToken } = useSelector((state) => state.login);\n\n  const click = (category) => {\n    const reqType = { request: 'filter', key: 'c', parameter: category };\n    const token = pathname === 'comidas' ? mealsToken : cocktailsToken;\n    if (selectedFilter === category || category === 'All') {\n      dispatch(fetchRecipes(token, type));\n    } else dispatch(fetchRecipes(token, type, reqType));\n  };\n\n  return (\n    <Button\n      className=\"custom-btn\"\n      data-testid={ `${name}-category-filter` }\n      onClick={ () => click(name) }\n      size=\"sm\"\n      type=\"button\"\n      variant=\"primary\"\n    >\n      {name}\n    </Button>\n  );\n}\n\nCategoryButton.propTypes = {\n  name: PropTypes.string.isRequired,\n  type: PropTypes.string.isRequired,\n};\n\nexport default CategoryButton;\n"]},"metadata":{},"sourceType":"module"}