{"ast":null,"code":"import { ADD_CATEGORIES, ADD_FAVORITE, ADD_FILTER, ADD_RECIPES, ADD_RECOMMENDATIONS, END_RECIPE, REQUEST_RECIPES, RM_FAVORITE, START_RECIPE, ADD_BYINGREDIENT } from '../actions';\nconst inProgressRecipes = JSON.parse(localStorage.getItem('inProgressRecipes') || '{}');\nconst favoriteRecipes = JSON.parse(localStorage.getItem('favoriteRecipes') || '[]');\nconst doneRecipes = JSON.parse(localStorage.getItem('doneRecipes') || '[]');\nconst INITIAL_STATE = {\n  list: [],\n  isFetching: true,\n  categories: [],\n  filter: '',\n  recommendations: [],\n  start: {\n    comidas: inProgressRecipes.meals || {},\n    bebidas: inProgressRecipes.cocktails || {}\n  },\n  done: doneRecipes,\n  favorite: favoriteRecipes,\n  byIngredient: ''\n};\nconst MAX_RECIPES = 12;\nconst MAX_RECOMMENDATIONS = 6;\n\nconst recipes = (state = INITIAL_STATE, action) => {\n  const doneDate = new Date();\n\n  switch (action.type) {\n    case REQUEST_RECIPES:\n      return { ...state,\n        isFetching: true\n      };\n\n    case ADD_RECIPES:\n      return { ...state,\n        isFetching: false,\n        list: action.payload.slice(0, MAX_RECIPES)\n      };\n\n    case ADD_CATEGORIES:\n      return { ...state,\n        categories: action.payload\n      };\n\n    case ADD_FILTER:\n      return { ...state,\n        filter: action.payload\n      };\n\n    case ADD_RECOMMENDATIONS:\n      return { ...state,\n        recommendations: action.payload.slice(0, MAX_RECOMMENDATIONS)\n      };\n\n    case START_RECIPE:\n      return { ...state,\n        start: { ...state.start,\n          [action.selectedType]: { ...state.start[action.selectedType],\n            ...action.payload\n          }\n        }\n      };\n\n    case END_RECIPE:\n      return { ...state,\n        done: [...state.done, { ...action.payload,\n          doneDate: doneDate.toLocaleDateString('pt-Br')\n        }]\n      };\n\n    case ADD_FAVORITE:\n      return { ...state,\n        favorite: [...state.favorite, action.payload]\n      };\n\n    case RM_FAVORITE:\n      return { ...state,\n        favorite: [...state.favorite.filter(({\n          id,\n          type\n        }) => id !== action.payload.id || type !== action.payload.type)]\n      };\n\n    case ADD_BYINGREDIENT:\n      return { ...state,\n        byIngredient: action.payload\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport default recipes;","map":{"version":3,"sources":["/home/alinedebastiani/sd-08-project-recipes-app/src/reducers/recipes.js"],"names":["ADD_CATEGORIES","ADD_FAVORITE","ADD_FILTER","ADD_RECIPES","ADD_RECOMMENDATIONS","END_RECIPE","REQUEST_RECIPES","RM_FAVORITE","START_RECIPE","ADD_BYINGREDIENT","inProgressRecipes","JSON","parse","localStorage","getItem","favoriteRecipes","doneRecipes","INITIAL_STATE","list","isFetching","categories","filter","recommendations","start","comidas","meals","bebidas","cocktails","done","favorite","byIngredient","MAX_RECIPES","MAX_RECOMMENDATIONS","recipes","state","action","doneDate","Date","type","payload","slice","selectedType","toLocaleDateString","id"],"mappings":"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","sourcesContent":["import { ADD_CATEGORIES, ADD_FAVORITE, ADD_FILTER, ADD_RECIPES,\n  ADD_RECOMMENDATIONS, END_RECIPE, REQUEST_RECIPES, RM_FAVORITE,\n  START_RECIPE, ADD_BYINGREDIENT } from '../actions';\n\nconst inProgressRecipes = JSON.parse(localStorage.getItem('inProgressRecipes') || '{}');\nconst favoriteRecipes = JSON.parse(localStorage.getItem('favoriteRecipes') || '[]');\nconst doneRecipes = JSON.parse(localStorage.getItem('doneRecipes') || '[]');\n\nconst INITIAL_STATE = {\n  list: [],\n  isFetching: true,\n  categories: [],\n  filter: '',\n  recommendations: [],\n  start: { comidas: inProgressRecipes.meals || {},\n    bebidas: inProgressRecipes.cocktails || {} },\n  done: doneRecipes,\n  favorite: favoriteRecipes,\n  byIngredient: '',\n};\n\nconst MAX_RECIPES = 12;\nconst MAX_RECOMMENDATIONS = 6;\n\nconst recipes = (state = INITIAL_STATE, action) => {\n  const doneDate = new Date();\n  switch (action.type) {\n  case REQUEST_RECIPES:\n    return { ...state, isFetching: true };\n  case ADD_RECIPES:\n    return { ...state, isFetching: false, list: action.payload.slice(0, MAX_RECIPES) };\n  case ADD_CATEGORIES:\n    return { ...state, categories: action.payload };\n  case ADD_FILTER:\n    return { ...state, filter: action.payload };\n  case ADD_RECOMMENDATIONS:\n    return { ...state, recommendations: action.payload.slice(0, MAX_RECOMMENDATIONS) };\n  case START_RECIPE:\n    return { ...state,\n      start: { ...state.start,\n        [action.selectedType]:\n          { ...state.start[action.selectedType], ...action.payload } } };\n  case END_RECIPE:\n    return { ...state,\n      done: [...state.done,\n        { ...action.payload, doneDate: doneDate.toLocaleDateString('pt-Br') }] };\n  case ADD_FAVORITE:\n    return { ...state, favorite: [...state.favorite, action.payload] };\n  case RM_FAVORITE:\n    return { ...state,\n      favorite: [...state.favorite\n        .filter(({ id, type }) => id !== action.payload.id\n          || type !== action.payload.type)] };\n  case ADD_BYINGREDIENT:\n    return { ...state, byIngredient: action.payload };\n  default:\n    return state;\n  }\n};\n\nexport default recipes;\n"]},"metadata":{},"sourceType":"module"}